(this["webpackJsonpdjango-react-boilerplate"]=this["webpackJsonpdjango-react-boilerplate"]||[]).push([[0],{183:function(e,t,n){},213:function(e,t,n){},216:function(e,t,n){"use strict";n.r(t);var c=n(0),i=n.n(c),r=n(17),s=n.n(r),a=(n(183),n(12)),o=n(255),u=n(257),l=n(63),j=n(77),d=n(36),b=n(105),O=n.n(b),f=function(){return O.a.get("token")},h=function(){O.a.remove("token")},x=function(e){O.a.set("token",e.token)},m=n(2),p=function(){h(),window.location.reload(!1)},g=function(){return Object(m.jsx)("div",{"data-testid":"MainNavbar",children:Object(m.jsx)(o.a,{color:"primary",children:Object(m.jsxs)(u.a,{style:{justifyContent:"space-evenly"},children:[Object(m.jsx)(j.a,{variant:"h2",style:{width:"75%",fontWeight:"bolder",fontStyle:"italic"},children:"ADTAA"}),Object(m.jsx)(l.a,{color:"default",variant:"contained",component:d.b,to:"/",children:"Assistant"}),Object(m.jsx)(l.a,{color:"default",variant:"contained",component:d.b,to:"/setup",children:"Setup"}),f()?Object(m.jsx)(l.a,{color:"default",variant:"contained",onClick:p,children:"Logout"}):Object(m.jsx)(l.a,{color:"default",variant:"contained",component:d.b,to:"/login",children:"Login"})]})})})};g.defaultProps={};var v=g,y=n(5),S=n(33),C=n(265),w=n(262),_=n(263),k=n(264),T=n(78),I=n(50),P=n.n(I),N=n(76),q=n(40),A=n.n(q),E="/api/",L="".concat(E,"discipline/"),D="".concat(E,"instructor/"),W="".concat(E,"timeslot/"),M="".concat(E,"section/"),F="".concat(E,"course/"),R="".concat(E,"solution/"),z="".concat(E,"solution/constraintmap/"),B="".concat(E,"auth/token/"),J="".concat(E,"registrationrequest/create/"),G="".concat(E,"auth/changepassword/");function U(e){if(401===e.status&&f()&&h(),e.status>=400&&e.status<600)throw new Error(e.status)}var Q=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={},c="POST"===e.method||"PUT"===e.method,i=f();return c||i?(c&&(n["Content-Type"]="application/json"),i&&!t&&(n.Authorization="Token ".concat(i)),e.headers=n,e):e},Y={authenticate:function(){var e=Object(N.a)(A.a.mark((function e(t,n){var c,i;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={method:"POST",body:JSON.stringify({username:t,password:n})},e.next=3,fetch(B,Q(c,!0));case 3:return U(i=e.sent),e.abrupt("return",i.json());case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),get:function(){var e=Object(N.a)(A.a.mark((function e(t){var n,c;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"GET"},e.next=3,fetch(t,Q(n));case 3:return U(c=e.sent),e.abrupt("return",c.json());case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),post:function(){var e=Object(N.a)(A.a.mark((function e(t,n){var c,i,r,s=arguments;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=s.length>2&&void 0!==s[2]&&s[2],i={method:"POST",body:JSON.stringify(n)},e.next=4,fetch(t,Q(i,c));case 4:return U(r=e.sent),e.abrupt("return",r.json());case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),put:function(){var e=Object(N.a)(A.a.mark((function e(t,n){var c,i,r,s=arguments;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=!(s.length>2&&void 0!==s[2])||s[2],i={method:"PUT",body:JSON.stringify(n)},c&&(t+=n.id.toString()),e.next=5,fetch(t,Q(i));case 5:return U(r=e.sent),e.abrupt("return","basic"===r.type?r:r.json());case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),delete:function(){var e=Object(N.a)(A.a.mark((function e(t,n){var c,i;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={method:"DELETE"},e.next=3,fetch(t+n.toString(),Q(c));case 3:return U(i=e.sent),e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},H=Y,K=n(101),V=n.n(K),X=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"h3";return Object(m.jsx)(j.a,{variant:t,style:{color:V()().palette.primary,fontWeight:"bold",marginBottom:"0.5em"},children:e})},Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"current";return Object(m.jsxs)(j.a,{children:["Your account is not authorized to access the ",e," page. Only administrators can make changes to this information. If you believe you should have access to this page, please contact an administrator or supervisor to correct this."]})},$=n(218),ee=function(e,t,n,c){var i=Object(m.jsx)("br",{});return 0===t.size||null==t.size||0===n.size||null==n.size?i=Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(j.a,{children:"Welcome to ADTAA! To get started, classes and instructors must be defined to generate schedules from. Please use the button below to go to the setup page."}),Object(m.jsx)("br",{}),Object(m.jsx)(l.a,{color:"primary",variant:"contained",component:d.b,to:"/setup",children:"Go to Setup"})]}):0===e.length&&(i=Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(j.a,{children:"No solutions have been generated."}),Object(m.jsx)("br",{}),Object(m.jsx)(l.a,{variant:"contained",color:"primary",onClick:function(){return function(e){H.post(R).then((function(t){t&&e(t)}),(function(e){return console.error(e)}))}(c)},children:"Run Scheduler"})]})),i},te=function(e){var t,n=[],c=1,i=Object(S.a)(e);try{for(i.s();!(t=i.n()).done;){var r=t.value;n.push(Object(m.jsxs)(w.a,{variant:"outlined",style:{width:"20%",margin:"1em"},children:[Object(m.jsxs)(_.a,{children:[Object(m.jsxs)(j.a,{children:["Option ",c]}),Object(m.jsxs)(j.a,{children:["Covered Classes: ",r.assignment_count,"/",r.assignments.length]}),Object(m.jsx)(j.a,{children:"Issues: None"})]}),Object(m.jsx)(k.a,{children:Object(m.jsx)(T.a,{style:{marginLeft:"auto"},component:d.b,to:"/edit/".concat(r.id),children:Object(m.jsx)(P.a,{})})})]},r.id)),c+=1}}catch(s){i.e(s)}finally{i.f()}return n},ne=function(){var e=Object(c.useState)(!1),t=Object(y.a)(e,2),n=t[0],i=t[1],r=Object(c.useState)(!1),s=Object(y.a)(r,2),a=s[0],o=s[1],u=Object(c.useState)([]),l=Object(y.a)(u,2),j=l[0],d=l[1],b=Object(c.useState)({}),O=Object(y.a)(b,2),f=O[0],h=O[1],x=Object(c.useState)({}),p=Object(y.a)(x,2),g=p[0],v=p[1],S=function(e){"403"===e.message?i(!0):console.error(e)};return Object(c.useEffect)((function(){Promise.all([H.get(R),H.get(D),H.get(M)]).then((function(e){d(e[0]),h(new Map(e[1].map((function(e){return[e.id,e]})))),v(new Map(e[2].map((function(e){return[e.id,e]})))),o(!0)})).catch(S)}),[]),n?Object(m.jsxs)("div",{children:[X("Generated Schedules"),Z("scheduler")]}):Object(m.jsxs)("div",{"data-testid":"AssistantPage",children:[X("Generated Schedules"),a?ee(j,f,g,d):Object(m.jsx)($.a,{}),Object(m.jsx)(C.a,{container:!0,alignItems:"center",justifyContent:"center",children:te(j.slice(0,12))})]})};ne.defaultProps={};var ce=ne,ie=n(273),re=n(222),se=n(271),ae=n(272),oe=n(103),ue=n.n(oe),le=n(73),je=n.n(le),de=n(221),be=n(223),Oe=n(16),fe=n(278),he=n(268),xe=n(269),me=n(270),pe=n(125),ge=n(45),ve=n(280),ye=function(e){var t=e.row,n=e.setRow,i=e.disciplines,r=Object(c.useState)(""),s=Object(y.a)(r,2),a=s[0],o=s[1];return Object(m.jsxs)(C.a,{container:!0,alignItems:"center",justifyContent:"center",spacing:2,children:[Object(m.jsx)(C.a,{item:!0,children:Object(m.jsx)(pe.a,{id:"lastNameInput",label:"Last Name",required:!0,inputProps:{maxLength:30},type:"text",value:t.lastName||"",onChange:function(e){return n(Object(Oe.a)(Object(Oe.a)({},t),{},{lastName:e.target.value}))}})}),Object(m.jsx)(C.a,{item:!0,children:Object(m.jsx)(pe.a,{id:"maxSectionsInput",label:"Max Sections",required:!0,inputProps:{inputMode:"numeric",pattern:"[0-9]*",maxLength:2},type:"text",value:t.maxSections||"",onChange:function(e){return n(Object(Oe.a)(Object(Oe.a)({},t),{},{maxSections:e.target.value.replace(/[^0-9]/g,"")}))}})}),Object(m.jsx)(C.a,{item:!0,children:Object(m.jsx)(pe.a,{id:"qualificationsSelect",select:!0,label:"Qualifications",style:{minWidth:150},value:a,onChange:function(e){return o(e.target.value)},children:i.filter((function(e){return t.qualifications.findIndex((function(t){return t.id===e.id}))<0})).map((function(e){return Object(m.jsx)(ge.a,{value:e,children:e.name},e.name)}))})}),Object(m.jsx)(C.a,{item:!0,children:Object(m.jsx)(l.a,{variant:"contained",color:"default",onClick:function(){return n(Object(Oe.a)(Object(Oe.a)({},t),{},{qualifications:t.qualifications.concat([a])}))},children:"Add"})}),Object(m.jsx)(C.a,{item:!0,xs:12,children:t.qualifications.map((function(e){return Object(m.jsx)(ve.a,{label:e.name,onDelete:function(){return n(Object(Oe.a)(Object(Oe.a)({},t),{},{qualifications:t.qualifications.filter((function(t){return t.id!==e.id}))}))}})}))})]})},Se=function(e){var t=e.create,n=e.open,i=e.setOpen,r=e.row,s=e.disciplines,a=e.setInstructors,o=Object(c.useState)({lastName:null,maxSections:null,qualifications:[]}),u=Object(y.a)(o,2),j=u[0],d=u[1],b=t?"Create Instructor":"Edit Instructor",O=function(){return i(!1)};return Object(c.useEffect)((function(){n&&!t?d(r):n&&t&&d({lastName:null,maxSections:null,qualifications:[]})}),[n]),Object(m.jsx)("div",{"data-testid":"InstructorDialog",children:Object(m.jsxs)(fe.a,{open:n,onClose:O,"aria-labelledby":"instructor-dialog",fullWidth:!0,maxWidth:"sm",children:[Object(m.jsx)(he.a,{id:"instructor-dialog",children:b}),Object(m.jsx)(xe.a,{children:Object(m.jsx)(ye,{row:j,setRow:d,disciplines:s})}),Object(m.jsxs)(me.a,{children:[Object(m.jsx)(l.a,{variant:"contained",onClick:O,color:"default",children:"Cancel"}),Object(m.jsx)(l.a,{variant:"contained",disabled:!j.lastName||!j.maxSections,onClick:function(){var e=Object(Oe.a)(Object(Oe.a)({},j),{},{qualifications:j.qualifications.map((function(e){return e.id}))});t?H.post(D,e).then((function(e){a((function(t){return t.concat([Object(Oe.a)(Object(Oe.a)({},e),{},{qualifications:j.qualifications})])})),i(!1)}),(function(e){return console.log(e)})):H.put(D,e).then((function(){a((function(e){var t=e.findIndex((function(e){return e.id===j.id})),n=e.slice(0);return n[t]=j,n})),i(!1)}),(function(e){return console.log(e)}))},color:"primary",children:"Submit"})]})]})})};Se.defaultProps={};var Ce=Se,we=function(e,t,n){var c,i=[],r=Object(S.a)(e);try{var s=function(){var r=c.value;i.push(Object(m.jsxs)(re.a,{children:[Object(m.jsx)(se.a,{primary:r.lastName,secondary:"Assignment Limit: "+r.maxSections.toString()}),Object(m.jsxs)(ae.a,{children:[Object(m.jsx)(T.a,{edge:"end","aria-label":"edit-instructor",onClick:function(){return n(r)},children:Object(m.jsx)(P.a,{})}),Object(m.jsx)(T.a,{edge:"end","aria-label":"delete-instructor",onClick:function(){H.delete(D,r.id).then((function(){t(e.filter((function(e){return e.id!==r.id})))}),(function(e){return console.error(e)}))},children:Object(m.jsx)(je.a,{})})]})]})),i.push(Object(m.jsx)(ie.a,{}))};for(r.s();!(c=r.n()).done;)s()}catch(a){r.e(a)}finally{r.f()}return i},_e=function(e){var t=Object(c.useState)({}),n=Object(y.a)(t,2),i=n[0],r=n[1],s=Object(c.useState)(!1),a=Object(y.a)(s,2),o=a[0],u=a[1],l=Object(c.useState)(!1),j=Object(y.a)(l,2),d=j[0],b=j[1];return Object(m.jsxs)("div",{"data-testid":"InstructorList",children:[Object(m.jsxs)(de.a,{style:{border:"1px #0000001f solid"},children:[we(e.instructors,e.setInstructors,(function(e){r(e),b(!0)})),Object(m.jsxs)(re.a,{button:!0,onClick:function(){return u(!0)},children:[Object(m.jsx)(be.a,{children:Object(m.jsx)(ue.a,{})}),Object(m.jsx)(se.a,{primary:"Add New"})]})]}),Object(m.jsx)(Ce,{create:!0,open:o,setOpen:u,disciplines:e.disciplines,setInstructors:e.setInstructors}),Object(m.jsx)(Ce,{open:d,setOpen:b,row:i,disciplines:e.disciplines,setInstructors:e.setInstructors})]})};_e.defaultProps={};var ke=_e,Te={"Mon.":"Monday","Tue.":"Tuesday","Wed.":"Wednesday","Thu.":"Thursday","Fri.":"Friday","Sat.":"Saturday","Sun.":"Sunday"},Ie=n(155),Pe=n.n(Ie),Ne=n(154),qe=n.n(Ne),Ae=n(156),Ee=n.n(Ae),Le=n(224),De=n(225),We=n(274),Me=n(276),Fe=function(e){var t=e.row,n=e.classes,i=e.setClasses,r=Object(c.useState)(-1),s=Object(y.a)(r,2),a=s[0],o=s[1],u=Object(c.useState)(-1),j=Object(y.a)(u,2),d=j[0],b=j[1],O=Object(c.useState)({meetingDays:"Sun.",begin_time:"",end_time:""}),f=Object(y.a)(O,2),h=f[0],x=f[1],p=function(){return!Object.keys(Te).includes(h.meetingDays)||h.begin_time.length<5||h.end_time.length<5},g=function(e){H.put(M,e).then((function(t){i((function(n){var c=n.findIndex((function(t){return t.id===e.id})),i=n.slice(0);return i[c]=t,i}))}),(function(e){return console.error(e)}))},v=function(e){if(e.id!==a)return[];var t,n=[],c=Object(S.a)(e.meetingTimes);try{for(c.s();!(t=c.n()).done;){var i=t.value,r="".concat(i.meetingDays," ").concat(i.begin_time,"-").concat(i.end_time);n.push(Object(m.jsx)(Le.a,{value:i.id,label:r,control:Object(m.jsx)(Me.a,{})}))}}catch(s){c.e(s)}finally{c.f()}return n};return Object(m.jsxs)(C.a,{container:!0,alignItems:"center",justifyContent:"center",spacing:2,children:[Object(m.jsx)(C.a,{item:!0,xs:2,children:Object(m.jsx)(pe.a,{select:!0,label:"Day",style:{minWidth:60},value:h.meetingDays,onChange:function(e){return x(Object(Oe.a)(Object(Oe.a)({},h),{},{meetingDays:e.target.value}))},children:Object.keys(Te).map((function(e){return Object(m.jsx)(ge.a,{value:e,children:e},e)}))})}),Object(m.jsx)(C.a,{item:!0,xs:4,children:Object(m.jsx)(pe.a,{label:"Begin Time",type:"time",value:h.begin_time,onChange:function(e){return x(Object(Oe.a)(Object(Oe.a)({},h),{},{begin_time:e.target.value}))},InputLabelProps:{shrink:!0},inputProps:{step:60},fullWidth:!0})}),Object(m.jsx)(C.a,{item:!0,xs:4,children:Object(m.jsx)(pe.a,{label:"End Time",type:"time",value:h.end_time,onChange:function(e){return x(Object(Oe.a)(Object(Oe.a)({},h),{},{end_time:e.target.value}))},InputLabelProps:{shrink:!0},inputProps:{step:60},fullWidth:!0})}),n.filter((function(e){return e.course.id===t.id})).length>0&&Object(m.jsxs)(C.a,{item:!0,children:[Object(m.jsx)(l.a,{variant:"contained",color:"default",disabled:d<0||p(),onClick:function(){return e=Object(Oe.a)(Object(Oe.a)({},h),{},{id:d}),void H.put(W,e).then((function(t){i((function(n){var c=n.findIndex((function(e){return e.id===a})),i=n.slice(0),r=i[c].meetingTimes.findIndex((function(t){return t.id===e.id}));return i[c].meetingTimes[r]=t,i}))}),(function(e){return console.error(e)}));var e},children:"Change Selected Time"}),Object(m.jsx)(l.a,{variant:"contained",color:"default",disabled:a<0||p(),onClick:function(){return function(e,t){var n=Object.assign({},t);n.meetingTimes.push(e),g(n)}(h,n.find((function(e){return e.id===a})))},children:"Add to Selected Section"})]}),Object(m.jsx)(C.a,{item:!0,children:Object(m.jsx)(l.a,{variant:"contained",color:"primary",disabled:p(),onClick:function(){return e=h,void H.post(M,{course:t.id,meetingTimes:[e]}).then((function(e){i((function(t){return t.concat([e])}))}),(function(e){return console.error(e)}));var e},children:"Add to New Section"})}),Object(m.jsx)(C.a,{item:!0,xs:12,children:function(){var e=[];return n&&(e=n.filter((function(e){return e.course.id===t.id})).map((function(e){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)(re.a,{button:!0,onClick:function(){return t=e.id,o(t);var t},children:[(t=e.id,a===t?Object(m.jsx)(be.a,{children:Object(m.jsx)(qe.a,{})}):Object(m.jsx)(be.a,{children:Object(m.jsx)(Pe.a,{})})),Object(m.jsx)(se.a,{primary:"Section ".concat(e.id),secondary:"".concat(e.meetingTimes.length," time slot(s)")}),Object(m.jsxs)(ae.a,{children:[Object(m.jsx)(T.a,{onClick:function(){return function(e,t){var n=Object.assign({},t);n.meetingTimes=n.meetingTimes.filter((function(t){return t.id!==e})),g(n)}(d,e)},disabled:d<0,children:Object(m.jsx)(Ee.a,{})}),Object(m.jsx)(T.a,{onClick:function(){return t=e.id,void H.delete(M,t).then((function(e){t===a&&o(-1),i(n.filter((function(e){return e.id!==t})))}),(function(e){return console.error(e)}));var t},children:Object(m.jsx)(je.a,{})})]})]}),Object(m.jsx)(De.a,{children:Object(m.jsx)(We.a,{value:d,onChange:function(e){return b(parseInt(e.target.value))},children:v(e)})})]});var t}))),e}()})]})},Re=function(e){var t=e.row,n=e.setRow,i=e.classes,r=e.setClasses,s=e.disciplines,a=e.create,o=Object(c.useState)(""),u=Object(y.a)(o,2),d=u[0],b=u[1];return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(j.a,{variant:"h6",style:{textAlign:"center"},children:"Course"}),Object(m.jsxs)(C.a,{container:!0,alignItems:"center",justifyContent:"center",spacing:2,children:[Object(m.jsx)(C.a,{item:!0,children:Object(m.jsx)(pe.a,{label:"Course Title",required:!0,value:t.course_title||"",inputProps:{maxLength:55},type:"text",onChange:function(e){return n(Object(Oe.a)(Object(Oe.a)({},t),{},{course_title:e.target.value}))}})}),Object(m.jsx)(C.a,{item:!0,children:Object(m.jsx)(pe.a,{label:"Course Number",required:!0,value:t.course_number||"",inputProps:{inputMode:"numeric",pattern:"[0-9]*",maxLength:6},type:"text",onChange:function(e){return n(Object(Oe.a)(Object(Oe.a)({},t),{},{course_number:e.target.value}))}})}),Object(m.jsx)(C.a,{item:!0,children:Object(m.jsx)(pe.a,{select:!0,label:"Subject Disciplines",style:{minWidth:160},value:d,onChange:function(e){return b(e.target.value)},children:s.filter((function(e){return t.subject_disciplines.findIndex((function(t){return t.id===e.id}))<0})).map((function(e){return Object(m.jsx)(ge.a,{value:e,children:e.name},e.name)}))})}),Object(m.jsx)(C.a,{item:!0,children:Object(m.jsx)(l.a,{variant:"contained",color:"default",onClick:function(){return n(Object(Oe.a)(Object(Oe.a)({},t),{},{subject_disciplines:t.subject_disciplines.concat([d])}))},children:"Add"})}),Object(m.jsx)(C.a,{item:!0,xs:12,children:t.subject_disciplines.map((function(e){return Object(m.jsx)(ve.a,{label:e.name,onDelete:function(){return n(Object(Oe.a)(Object(Oe.a)({},t),{},{subject_disciplines:t.subject_disciplines.filter((function(t){return t.id!==e.id}))}))}})}))})]}),!a&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(j.a,{variant:"h6",style:{textAlign:"center",marginTop:"1rem"},children:"Sections"}),Object(m.jsx)(Fe,{row:t,classes:i,setClasses:r})]})]})},ze=function(e){var t=e.create,n=e.open,i=e.setOpen,r=e.row,s=e.setCourses,a=e.classes,o=e.setClasses,u=e.disciplines,j=e.setSelected,d=e.setEditOpen,b=Object(c.useState)({course_title:"",course_number:null,subject_disciplines:[]}),O=Object(y.a)(b,2),f=O[0],h=O[1],x=t?"Create Class":"Edit Class",p=function(){return i(!1)};return Object(c.useEffect)((function(){n&&!t?h(r):n&&t&&h({course_title:"",course_number:null,subject_disciplines:[]})}),[n]),Object(m.jsx)("div",{"data-testid":"ClassDialog",children:Object(m.jsxs)(fe.a,{open:n,onClose:p,"aria-labelledby":"instructor-dialog",fullWidth:!0,maxWidth:"sm",children:[Object(m.jsx)(he.a,{id:"instructor-dialog",children:x}),Object(m.jsx)(xe.a,{children:Object(m.jsx)(Re,{row:f,setRow:h,classes:a,setClasses:o,disciplines:u,create:t})}),Object(m.jsxs)(me.a,{children:[Object(m.jsx)(l.a,{variant:"contained",onClick:p,color:"default",children:"Cancel"}),Object(m.jsx)(l.a,{variant:"contained",onClick:function(){var e=Object(Oe.a)(Object(Oe.a)({},f),{},{subject_disciplines:f.subject_disciplines.map((function(e){return e.id}))});t?H.post(F,e).then((function(e){var t=Object(Oe.a)(Object(Oe.a)({},e),{},{subject_disciplines:f.subject_disciplines});s((function(e){return e.concat([t])})),j(t),i(!1),d(!0)}),(function(e){return console.error(e)})):H.put(F,e).then((function(e){s((function(e){var t=e.findIndex((function(e){return e.id===f.id})),n=e.slice(0);return n[t]=f,n})),i(!1)}),(function(e){return console.error(e)}))},color:"primary",disabled:!f.course_title||!f.course_number,children:"Submit"})]})]})})};ze.defaultProps={};var Be=ze,Je=function(e,t,n,c){var i,r=[],s=Object(S.a)(t);try{var a=function(){var s=i.value,a=e.filter((function(e){return e.course===s.id})),o=a.map((function(e){return e.meetingTimeString}));r.push(Object(m.jsxs)(re.a,{children:[Object(m.jsx)(se.a,{primary:"CPSC "+s.course_number+" - "+s.course_title,secondary:a.length.toString()+" Section(s) - "+o.join("; ")}),Object(m.jsxs)(ae.a,{children:[Object(m.jsx)(T.a,{edge:"end",onClick:function(){return c(s)},children:Object(m.jsx)(P.a,{})}),Object(m.jsx)(T.a,{edge:"end",onClick:function(){H.delete(F,s.id).then((function(e){n(t.filter((function(e){return e.id!==s.id})))}),(function(e){return console.error(e)}))},children:Object(m.jsx)(je.a,{})})]})]})),r.push(Object(m.jsx)(ie.a,{}))};for(s.s();!(i=s.n()).done;)a()}catch(o){s.e(o)}finally{s.f()}return r},Ge=function(e){var t=Object(c.useState)({}),n=Object(y.a)(t,2),i=n[0],r=n[1],s=Object(c.useState)(!1),a=Object(y.a)(s,2),o=a[0],u=a[1],l=Object(c.useState)(!1),j=Object(y.a)(l,2),d=j[0],b=j[1];return Object(m.jsxs)("div",{"data-testid":"ClassList",children:[Object(m.jsxs)(de.a,{style:{border:"1px #0000001f solid"},children:[Je(e.classes,e.courses,e.setCourses,(function(e){r(e),b(!0)})),Object(m.jsxs)(re.a,{button:!0,onClick:function(){return u(!0)},children:[Object(m.jsx)(be.a,{children:Object(m.jsx)(ue.a,{})}),Object(m.jsx)(se.a,{primary:"Add New"})]})]}),Object(m.jsx)(Be,{create:!0,open:o,setOpen:u,setCourses:e.setCourses,disciplines:e.disciplines,setClasses:e.setClasses,setSelected:r,setEditOpen:b}),Object(m.jsx)(Be,{open:d,setOpen:b,row:i,setCourses:e.setCourses,disciplines:e.disciplines,classes:e.classes,setClasses:e.setClasses})]})};Ge.defaultProps={};var Ue=Ge,Qe=function(){var e=Object(c.useState)(!1),t=Object(y.a)(e,2),n=t[0],i=t[1],r=Object(c.useState)(!1),s=Object(y.a)(r,2),a=s[0],o=s[1],u=Object(c.useState)([]),l=Object(y.a)(u,2),j=l[0],d=l[1],b=Object(c.useState)([]),O=Object(y.a)(b,2),f=O[0],h=O[1],x=Object(c.useState)([]),p=Object(y.a)(x,2),g=p[0],v=p[1],S=Object(c.useState)([]),w=Object(y.a)(S,2),_=w[0],k=w[1],T=function(e){"403"===e.message?i(!0):console.error(e)};return Object(c.useEffect)((function(){Promise.all([H.get(L),H.get(D),H.get(M),H.get(F)]).then((function(e){d(e[0]),h(e[1]),v(e[2]),k(e[3]),o(!0)}),T)}),[]),n?Object(m.jsxs)("div",{children:[X("Setup Page"),Z("setup")]}):Object(m.jsx)("div",{"data-testid":"SetupPage",children:Object(m.jsxs)(C.a,{container:!0,spacing:2,justifyContent:"center",children:[Object(m.jsxs)(C.a,{container:!0,item:!0,xs:5,direction:"column",children:[X("Teaching Staff","h4"),Object(m.jsx)("div",{style:{padding:"1rem 5rem"},children:a?Object(m.jsx)(ke,{instructors:f,setInstructors:h,disciplines:j}):Object(m.jsx)($.a,{})})]}),Object(m.jsx)(ie.a,{orientation:"vertical",flexItem:!0}),Object(m.jsxs)(C.a,{container:!0,item:!0,xs:5,direction:"column",children:[X("Class Roster","h4"),Object(m.jsx)("div",{style:{padding:"1rem 5rem"},children:a?Object(m.jsx)(Ue,{classes:g,setClasses:v,courses:_,setCourses:k,disciplines:j}):Object(m.jsx)($.a,{})})]})]})})};Qe.defaultProps={};var Ye=Qe,He=function(e,t){return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(C.a,{container:!0,alignItems:"center",justifyContent:"center",spacing:2,children:[Object(m.jsx)(C.a,{item:!0,xs:12,children:Object(m.jsx)(pe.a,{required:!0,label:"Email",type:"text",onChange:function(t){return e(t.target.value)}})}),Object(m.jsx)(C.a,{item:!0,xs:12,children:Object(m.jsx)(pe.a,{required:!0,label:"Password",type:"password",onChange:function(e){return t(e.target.value)}})})]})})},Ke=function(e,t,n,c){return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(C.a,{container:!0,alignItems:"center",justifyContent:"center",spacing:2,children:[Object(m.jsx)(C.a,{item:!0,xs:12,children:Object(m.jsx)(pe.a,{required:!0,label:"Email",type:"text",onChange:function(e){return t(e.target.value)}})}),Object(m.jsx)(C.a,{item:!0,xs:12,children:Object(m.jsx)(pe.a,{select:!0,label:"Requested Access Level",style:{minWidth:200},onChange:function(e){return c(e.target.value)},children:e.map((function(e){return Object(m.jsx)(ge.a,{value:e,children:e},e)}))})}),Object(m.jsx)(C.a,{item:!0,xs:12,children:Object(m.jsx)(pe.a,{required:!0,label:"Requested Password",type:"password",onChange:function(e){return n(e.target.value)}})})]})})},Ve=function(e){V()();var t=Object(c.useState)(!0),n=Object(y.a)(t,2),i=n[0],r=n[1],s=Object(c.useState)(),a=Object(y.a)(s,2),o=a[0],u=a[1],j=Object(c.useState)(),d=Object(y.a)(j,2),b=d[0],O=d[1],f=Object(c.useState)(),h=Object(y.a)(f,2),p=h[0],g=h[1];return Object(m.jsxs)("div",{"data-testid":"LoginPage",children:[X(i?"Login":"Submit Registration Request"),i?He(u,O):Ke(["root","admin","assistant"],u,O,g),Object(m.jsx)(l.a,{color:"primary",variant:"contained",style:{marginTop:"2em",marginRight:"1em"},onClick:function(){i?H.authenticate(o,b).then((function(e){x(e),window.location.reload(!1)}),(function(e){"404"===e.message?H.put(G,{username:"root",password:"root",new_password:b},!1).then((function(){H.authenticate("root",b).then((function(e){x(e),window.location.reload(!1)}),(function(e){return console.error(e)}))}),(function(e){return console.error(e)})):console.error(e)})):H.post(J,{contact_email:o,requested_password:b,access_level:p}).then((function(e){console.log(e)}),(function(e){return console.error(e)}))},children:"Submit"}),Object(m.jsx)(l.a,{color:"default",variant:"contained",style:{marginTop:"2em"},onClick:function(){return r(!i)},children:i?"Register":"Return to Login"})]})};Ve.defaultProps={};var Xe=Ve,Ze=n(150),$e=n(56),et=n(261),tt=n(275),nt=Object(Ze.a)(Object($e.b)({palette:{primary:{main:"#800000"}}})),ct=(n(213),n(157)),it=function(e){var t=e.open,n=e.setOpen,i=e.row,r=e.schedule,s=e.setSchedule,a=e.instructors,o=(e.sectionOverlapMap,e.disciplineMap,Object(c.useState)()),u=Object(y.a)(o,2),d=u[0],b=u[1],O=function(){return n(!1)};return Object(c.useEffect)((function(){null!=i&&b(i.instructor)}),[i]),Object(m.jsx)("div",{"data-testid":"EditAssignmentDialog",children:Object(m.jsxs)(fe.a,{open:t,onClose:O,fullWidth:!0,maxWidth:"sm",children:[Object(m.jsx)(he.a,{children:"Edit Assignment"}),Object(m.jsxs)(xe.a,{children:[null!=i&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)(j.a,{style:{textAlign:"center",fontWeight:"bold"},children:[i.course_number," ",i.course_title]}),Object(m.jsx)(j.a,{style:{textAlign:"center"},children:i.meetingTimeString})]}),null!=a.size&&Object(m.jsx)(pe.a,{select:!0,label:"Instructor",style:{minWidth:160},value:d,onChange:function(e){b(e.target.value)},children:Array.from(a.values()).map((function(e){return Object(m.jsx)(ge.a,{value:e.id,children:e.lastName},e.id)}))})]}),Object(m.jsxs)(me.a,{children:[Object(m.jsx)(l.a,{variant:"contained",onClick:O,children:"Cancel"}),Object(m.jsx)(l.a,{variant:"contained",color:"primary",onClick:function(){var e=r.assignments,t=e.findIndex((function(e){return e.id===i.id}));e[t].instructor=d;var n=r;r.assignments=e,s(n),O()},disabled:!d,children:"Submit"})]})]})})};it.defaultProps={};var rt=it,st=function(){var e=Object(c.useState)(),t=Object(y.a)(e,2),n=t[0],i=t[1],r=Object(c.useState)(),s=Object(y.a)(r,2),o=s[0],u=s[1],j=Object(c.useState)({}),b=Object(y.a)(j,2),O=b[0],f=b[1],h=Object(c.useState)({}),x=Object(y.a)(h,2),p=x[0],g=x[1],v=Object(c.useState)({}),C=Object(y.a)(v,2),w=C[0],_=C[1],k=Object(c.useState)({}),I=Object(y.a)(k,2),N=I[0],q=I[1],A=Object(c.useState)(!1),E=Object(y.a)(A,2),L=E[0],W=E[1],F=Object(c.useState)(),B=Object(y.a)(F,2),J=B[0],G=B[1],U=Object(a.h)().solution_id,Q=[{field:"id",headerName:"ID",hide:!0},{field:"course_title",headerName:"Course",flex:1},{field:"course_number",hide:!0},{field:"meetingTimeString",headerName:"Meeting Times",flex:3},{field:"subject_disciplines",headerName:"Subject Disciplines",hide:!0},{field:"instructor_lastName",headerName:"Assigned Instructor",flex:1},{field:"Edit",renderCell:function(e){return Object(m.jsx)(T.a,{onClick:function(){G(e.row),W(!0)},children:Object(m.jsx)(P.a,{})})},flex:.5}],Y=function(){return null!=n&&null!=O.size&&null!=p.size&&0!==Object.keys(w).length&&0!==Object.keys(N).length};return Object(c.useEffect)((function(){H.get(R+U.toString()).then((function(e){i(e),u(e)}),(function(e){console.error(e)})),H.get(D).then((function(e){f(new Map(e.map((function(e){return[e.id,e]}))))}),(function(e){console.error(e)})),H.get(M).then((function(e){g(new Map(e.map((function(e){return[e.id,e]}))))}),(function(e){console.error(e)})),H.get(z).then((function(e){_(e.section_overlap_map),q(e.discipline_overlap_map)}),(function(e){return console.error(e)}))}),[U]),Object(m.jsxs)("div",{"data-testid":"EditSolution",children:[Object(m.jsxs)("div",{style:{marginBottom:"0.5rem",display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"flex-end",width:"80vw",marginLeft:"auto",marginRight:"auto"},children:[Object(m.jsx)(l.a,{variant:"contained",style:{height:"36px"},component:d.b,to:"/",children:"Cancel"}),X("Edit Solution"),Object(m.jsx)(l.a,{variant:"contained",style:{height:"36px"},color:"primary",children:"Submit"})]}),Object(m.jsx)("div",{style:{height:"80vh",width:"80vw",margin:"auto"},children:Y()?Object(m.jsx)(ct.a,{rows:function(e){var t=[];if(0!==p.size&&null!=p.size){var n,c=Object(S.a)(e);try{for(c.s();!(n=c.n()).done;){var i=n.value,r=p.get(i.section),s="Unassigned";null!=i.instructor&&(s=O.get(i.instructor).lastName),r&&t.push({id:i.id,course_title:r.course.course_title,course_number:r.course.course_number,meetingTimeString:r.meetingTimeString,instructor:i.instructor,instructor_lastName:s,subject_disciplines:r.course.subject_disciplines})}}catch(a){c.e(a)}finally{c.f()}}return t}(o.assignments),columns:Q,autoPageSize:!0}):Object(m.jsx)("p",{children:"Loading"})}),Y()&&Object(m.jsx)(rt,{open:L,setOpen:W,row:J,schedule:o,setSchedule:u,instructors:O,sectionOverlapMap:w,disciplineMap:N})]})};st.defaultProps={};var at=st;var ot,ut=(ot=function(){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(v,{}),Object(m.jsx)("div",{className:"content",children:Object(m.jsxs)(a.d,{children:[Object(m.jsx)(a.b,{path:"/",element:f()?Object(m.jsx)(ce,{}):Object(m.jsx)(a.a,{to:"/login"})}),Object(m.jsx)(a.b,{path:"/edit/:solution_id",element:f()?Object(m.jsx)(at,{}):Object(m.jsx)(a.a,{to:"/login"})}),Object(m.jsx)(a.b,{path:"/setup",element:f()?Object(m.jsx)(Ye,{}):Object(m.jsx)(a.a,{to:"/login"})}),Object(m.jsx)(a.b,{path:"/login",element:f()?Object(m.jsx)(a.a,{to:"/"}):Object(m.jsx)(Xe,{})})]})})]})},function(e){return Object(m.jsxs)(et.a,{theme:nt,children:[Object(m.jsx)(tt.a,{}),Object(m.jsx)(ot,Object(Oe.a)({},e))]})}),lt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,281)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),i(e),r(e),s(e)}))};s.a.render(Object(m.jsx)(i.a.StrictMode,{children:Object(m.jsx)(d.a,{children:Object(m.jsx)(ut,{})})}),document.getElementById("root")),lt()}},[[216,1,2]]]);
//# sourceMappingURL=main.f3f938a1.chunk.js.map