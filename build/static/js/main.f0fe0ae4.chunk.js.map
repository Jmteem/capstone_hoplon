{"version":3,"sources":["auth.js","components/MainNavbar/MainNavbar.js","urls.js","APIService.js","components/Utility/text-styles.js","components/Utility/ErrorDialog/ErrorDialog.js","components/AssistantPage/AssistantPage.js","components/SetupPage/InstructorDialog/InstructorDialog.js","components/SetupPage/InstructorList/InstructorList.js","constants.js","components/SetupPage/SectionForm/SectionForm.js","components/SetupPage/ClassDialog/ClassDialog.js","components/SetupPage/ClassList/ClassList.js","components/SetupPage/SetupPage.js","components/LoginPage/LoginPage.js","StyleWrapper.js","components/AssistantPage/EditSolution/EditAssignmentDialog/EditAssignmentDialog.js","components/AssistantPage/EditSolution/EditSolution.js","components/SetupPage/EditSection/CreateTimeSlotDialog/CreateTimeSlotDialog.js","components/SetupPage/EditSection/EditSection.js","App.js","reportWebVitals.js","index.js"],"names":["getToken","Cookies","get","clearToken","remove","saveToken","userToken","set","token","logout","window","location","reload","MainNavbar","AppBar","color","Toolbar","style","justifyContent","Typography","variant","width","fontWeight","fontStyle","Button","component","Link","to","onClick","defaultProps","API_URL","URL_DISCIPLINES","URL_INSTRUCTORS","URL_CLASSES","URL_COURSES","URL_SOLUTIONS","URL_SOLUTION_CONSTRAINT_MAP","URL_AUTH","URL_CREATE_REGISTRATION_REQUEST","URL_CHANGE_PASSWORD","URL_CHANGES","URL_WRITE_ACCESS","catchErrorResponse","response","status","Error","statusText","injectHeader","options","ignoreAuth","headers","addJsonHeader","method","APIService","authenticate","username","password","a","body","JSON","stringify","fetch","json","url","post","data","put","dataHasID","id","toString","delete","PageHeading","text","useTheme","palette","primary","marginBottom","UnauthorizedMessage","page","ErrorDialog","props","open","setOpen","message","close","Dialog","onClose","DialogTitle","DialogContent","DialogActions","AssistantPage","useState","unauthorized","setUnauthorized","loaded","setLoaded","changes","setChanges","runningScheduler","setRunningScheduler","solutions","setSolutions","instructors","setInstructors","sections","setSections","constraintMap","setConstraintMap","errorOpen","setErrorOpen","errorMessage","setErrorMessage","runScheduler","then","handleError","finally","getConstraintViolations","schedule","assignmentViolations","disciplineViolations","overlapViolations","assignmentMap","forEach","instructor","assigned","assignments","filter","length","maxSections","map","section","assignment","discipline_overlap_map","includes","overlap","section_overlap_map","some","result","slice","error","useEffect","Promise","all","data_changed","catch","runSchedulerSection","CircularProgress","Card","margin","CardContent","CardActions","Grid","container","alignItems","cards","count","border","assignment_count","push","IconButton","marginLeft","generateCards","InstructorForm","row","setRow","disciplines","newQualification","setNewQualification","spacing","item","TextField","label","required","inputProps","maxLength","type","value","lastName","onChange","e","target","inputMode","pattern","replace","select","minWidth","d","qualifications","findIndex","q","option","MenuItem","name","concat","xs","qual","Chip","onDelete","x","InstructorDialog","create","errorDialog","instructorFormData","setInstructorFormData","title","fullWidth","maxWidth","disabled","obj","newRow","rowIndex","instructorsCopy","InstructorList","writeAuthorized","selected","setSelected","addOpen","setAddOpen","editOpen","setEditOpen","List","listItems","ListItem","ListItemText","secondary","ListItemSecondaryAction","Tooltip","placement","edge","openEditDialog","i","Divider","InstructorListItems","button","ListItemIcon","DayAbbrevToValue","LoginFormMessages","timeslotToString","timeslot","begin_time","end_time","meetingDays","convertTimeToNumber","time","Number","split","SectionForm","classes","selectedSection","setSelectedSection","classesOnCourse","cls","course","CenteredListItem","withStyles","root","textAlign","getTimeSlotRows","rows","meetingTimes","list","getSectionList","ClassForm","setClasses","newDiscipline","setNewDiscipline","course_title","course_number","subject_disciplines","marginTop","ClassDialog","setCourses","courseFormData","setCourseFormData","sd","newCourse","courses","crs","coursesCopy","ClassList","meetingTimeStrings","meetingTimeString","join","ClassListItems","SetupPage","setWriteAuthorized","setDisciplines","openErrorDialog","direction","padding","orientation","flexItem","LoginForm","setUsername","setPassword","event","RegisterForm","accessLevels","setAccessLevel","LoginPage","isLoginForm","setIsLoginForm","accessLevel","successMessage","setSuccessMessage","marginRight","new_password","contact_email","requested_password","access_level","muiTheme","responsiveFontSizes","createTheme","main","EditAssignmentDialog","setSchedule","sectionOverlapMap","disciplineMap","selectedInstructor","setSelectedInstructor","size","Array","from","values","newScheduleAssignments","replaceIndex","as","newSchedule","EditSolution","setSolution","editedSolution","setEditedSolution","setSectionOverlapMap","setDisciplineMap","editDialogOpen","setEditDialogOpen","editRow","setEditRow","successSnackbar","setSuccessSnackbar","editsMade","setEditsMade","solution_id","useParams","columns","field","headerName","hide","flex","renderCell","cellValues","Map","display","flexDirection","height","instructor_name","instructor_lastName","getTableData","autoPageSize","Snackbar","autoHideDuration","Alert","severity","CreateTimeSlotDialog","onSubmit","setTimeslot","Object","keys","InputLabelProps","shrink","step","EditSection","setCourse","selectedTimeSlot","setSelectedTimeSlot","action","setAction","course_id","deleteSection","s","updateSection","validateSection","sectionsCopy","console","log","day","timesOnDay","mt","timeIntervals","meetingTime","arr","func","pairwise","sort","i1","i2","curr","next","items","find","times","getTimeSlotListItems","timeSlot","styleWrapper","Component","className","path","element","theme","CssBaseline","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f0fe0ae4.chunk.js","sourcesContent":["import Cookies from 'js-cookie';\n\nconst getToken = () => {\n  return Cookies.get('token');\n};\n\nconst clearToken = () => {\n  Cookies.remove('token');\n};\n\nconst saveToken = (userToken) => {\n  Cookies.set('token', userToken.token);\n};\n\nexport { getToken, clearToken, saveToken };\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Button from \"@material-ui/core/Button\";\nimport Typography from \"@material-ui/core/Typography\";\nimport {Link} from \"react-router-dom\";\nimport {clearToken, getToken} from \"../../auth\";\n\nconst logout = () => {\n  clearToken();\n  window.location.reload(false);\n};\n\nconst MainNavbar = () => (\n  <div data-testid=\"MainNavbar\">\n    <AppBar color={\"primary\"}>\n      <Toolbar style={{justifyContent: \"space-evenly\"}}>\n        <Typography variant=\"h2\" style={{width: '75%', fontWeight: \"bolder\", fontStyle: \"italic\"}}>\n          ADTAA\n        </Typography>\n        <Button color={\"default\"} variant={\"contained\"} component={Link} to={'/'}>Assistant</Button>\n        <Button color={\"default\"} variant={\"contained\"} component={Link} to={'/setup'}>Setup</Button>\n        {getToken() ?\n          <Button color={\"default\"} variant={\"contained\"} onClick={logout}>Logout</Button> :\n          <Button color={\"default\"} variant={\"contained\"} component={Link} to={'/login'}>Login</Button>\n        }\n      </Toolbar>\n    </AppBar>\n  </div>\n);\n\nMainNavbar.propTypes = {};\n\nMainNavbar.defaultProps = {};\n\nexport default MainNavbar;\n","export const API_URL = '/api/',\n    URL_DISCIPLINES = `${API_URL}discipline/`,\n    URL_INSTRUCTORS = `${API_URL}instructor/`,\n    URL_TIMESLOT = `${API_URL}timeslot/`,\n    URL_CLASSES = `${API_URL}section/`,\n    URL_COURSES = `${API_URL}course/`,\n    URL_SOLUTIONS = `${API_URL}solution/`,\n    URL_SOLUTION_CONSTRAINT_MAP = `${API_URL}solution/constraintmap/`,\n    URL_AUTH = `${API_URL}auth/token/`,\n    URL_CREATE_REGISTRATION_REQUEST = `${API_URL}registrationrequest/create/`,\n    URL_CHANGE_PASSWORD = `${API_URL}auth/changepassword/`,\n    URL_CHANGES = `${API_URL}changes/`,\n    URL_WRITE_ACCESS = `${API_URL}writeaccess/`;\n","import {clearToken, getToken} from \"./auth\";\nimport {URL_AUTH, URL_CHANGE_PASSWORD} from \"./urls\";\n\nfunction catchErrorResponse(response) {\n  if (response.status === 401 && getToken()) {\n    clearToken();\n  }\n\n  if (response.status >= 400 && response.status < 600) {\n    throw new Error(`${response.status} - ${response.statusText}`);\n  }\n}\n\nconst injectHeader = (options, ignoreAuth=false) => {\n  let headers = {};\n\n  const addJsonHeader = options.method === 'POST' || options.method === 'PUT';\n  const token = getToken();\n\n  if (!addJsonHeader && !token) {\n    return options;\n  }\n\n  if (addJsonHeader) {\n    headers['Content-Type'] = 'application/json';\n  }\n  if (token && !ignoreAuth) {\n    headers['Authorization'] = `Token ${token}`;\n  }\n  options.headers = headers;\n\n  return options;\n};\n\nconst APIService = {\n  authenticate: async (username, password) => {\n    const options = {method: 'POST', body: JSON.stringify({username: username, password: password})};\n    const response = await fetch(URL_AUTH, injectHeader(options, true));\n    catchErrorResponse(response);\n    return response.json();\n  },\n\n  get: async (url) => {\n    const options = { method: 'GET' };\n    const response = await fetch(url, injectHeader(options));\n    catchErrorResponse(response);\n    return response.json();\n  },\n\n  post: async (url, data, ignoreAuth=false) => {\n    const options = { method: 'POST', body: JSON.stringify(data) };\n    const response = await fetch(url, injectHeader(options, ignoreAuth));\n    catchErrorResponse(response);\n    return response.json();\n  },\n\n  put: async (url, data, dataHasID=true) => {\n    const options = { method: 'PUT', body: JSON.stringify(data) };\n    if (dataHasID) url += data.id.toString();\n    const response = await fetch(url, injectHeader(options));\n    catchErrorResponse(response);\n    return (url === URL_CHANGE_PASSWORD) ? response : response.json();\n  },\n\n  delete: async (url, id) => {\n    const options = { method: 'DELETE' };\n    const response = await fetch(url + id.toString(), injectHeader(options));\n    catchErrorResponse(response);\n    return response;\n  }\n}\n\nexport default APIService;\n","import React from \"react\";\nimport Typography from \"@material-ui/core/Typography\";\nimport useTheme from \"@material-ui/core/styles/useTheme\";\n\n\nconst PageHeading = (text, variant='h3') => (\n  <Typography variant={variant} style={{color: useTheme().palette.primary, fontWeight: \"bold\", marginBottom: \"0.5em\"}}>\n    {text}\n  </Typography>\n);\n\n\nconst UnauthorizedMessage = (page='current') => (\n  <Typography>\n    Your account is not authorized to access the {page} page. Only administrators can make changes to this information.\n    If you believe you should have access to this page, please contact an administrator or supervisor to correct this.\n  </Typography>\n);\n\n\nexport { PageHeading, UnauthorizedMessage };\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport Button from \"@material-ui/core/Button\";\r\n\r\n\r\nconst ErrorDialog = (props) => {\r\n  const { open, setOpen, message } = props;\r\n\r\n  const close = () => setOpen(false);\r\n\r\n  return (\r\n    <div data-testid=\"ErrorDialog\">\r\n      <Dialog open={open} onClose={close}>\r\n        <DialogTitle>Error</DialogTitle>\r\n        <DialogContent>\r\n          {message}\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button variant={\"contained\"} color={\"primary\"} onClick={close}>Ok</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n};\r\n\r\nErrorDialog.propTypes = {};\r\n\r\nErrorDialog.defaultProps = {};\r\n\r\nexport default ErrorDialog;\r\n","import React, {useEffect, useState} from 'react';\nimport PropTypes from 'prop-types';\nimport Typography from \"@material-ui/core/Typography\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Card from \"@material-ui/core/Card\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport CardActions from \"@material-ui/core/CardActions\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport EditIcon from \"@material-ui/icons/Edit\"\nimport APIService from \"../../APIService\";\nimport {URL_CHANGES, URL_CLASSES, URL_INSTRUCTORS, URL_SOLUTION_CONSTRAINT_MAP, URL_SOLUTIONS} from \"../../urls\";\nimport Button from \"@material-ui/core/Button\";\nimport {Link} from \"react-router-dom\";\nimport {PageHeading, UnauthorizedMessage} from \"../Utility/text-styles\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport ErrorDialog from \"../Utility/ErrorDialog/ErrorDialog\";\n\nconst AssistantPage = () => {\n  const [unauthorized, setUnauthorized] = useState(false);\n  const [loaded, setLoaded] = useState(false);\n  const [changes, setChanges] = useState(false);\n  const [runningScheduler, setRunningScheduler] = useState(false);\n\n  const [solutions, setSolutions] = useState([]);\n  const [instructors, setInstructors] = useState([]);\n  const [sections, setSections] = useState([]);\n  const [constraintMap, setConstraintMap] = useState({});\n\n  const [errorOpen, setErrorOpen] = useState(false);\n  const [errorMessage, setErrorMessage] = useState('');\n\n  const runScheduler = () => {\n    setLoaded(false);\n    setRunningScheduler(true);\n    setSolutions([]);\n    APIService.post(URL_SOLUTIONS).then((data) => {\n      if (data) {\n        setSolutions(data);\n      }\n    }, handleError).finally(() => {\n      setLoaded(true);\n      setRunningScheduler(false);\n      setChanges(false);\n    });\n  };\n\n  const runSchedulerSection = () => {\n    let result = (<br />);\n\n    if (instructors.length === 0 || sections.length === 0) {\n      result = (\n        <>\n          <Typography>Welcome to ADTAA! To get started, classes and instructors must be defined to generate schedules\n            from. Please use the button below to go to the setup page.</Typography>\n          <br />\n          <Button color={\"primary\"} variant={\"contained\"} component={Link} to={'/setup'}>Go to Setup</Button>\n        </>\n      );\n    } else if (solutions.length === 0) {\n      result = (\n        <>\n          <Typography>No solutions have been generated.</Typography>\n          <br />\n          <Button variant={\"contained\"} color={\"primary\"} onClick={runScheduler}>\n            Run Scheduler\n          </Button>\n        </>\n      );\n    }\n\n    return result;\n  };\n\n  const getConstraintViolations = (schedule) => {\n    let assignmentViolations = 0;\n    let disciplineViolations = 0;\n    let overlapViolations = 0;\n\n    let assignmentMap = {};\n\n    instructors.forEach(instructor => {\n      const assigned = schedule.assignments.filter(a => a.instructor === instructor);\n      const count = assigned.length;\n      if (count > instructor.maxSections) {\n        assignmentViolations += 1;\n      }\n      assignmentMap[instructor.id] = assigned.map(a => a.section);\n    });\n\n    schedule.assignments.forEach(assignment => {\n      if (assignment.instructor != null) {\n        const approved = constraintMap.discipline_overlap_map[assignment.section];\n        if (!approved.includes(assignment.instructor)) {\n          disciplineViolations += 1;\n        }\n\n        const overlap = constraintMap.section_overlap_map[assignment.section];\n        if (assignmentMap[assignment.instructor].some(section => overlap.includes(section))) {\n          overlapViolations += 1;\n        }\n      }\n    });\n\n    let result = '';\n    if (assignmentViolations) result += `${assignmentViolations} instructors assigned over limit, `;\n    if (disciplineViolations) result += `${disciplineViolations} instructors teaching outside of their expertise, `;\n    if (overlapViolations) result += `${overlapViolations} instructors with schedule conflicts, `;\n    return (result.length > 0) ? result.slice(0, -2) : 'None';\n  }\n\n  const generateCards = () => {\n    let cards = [];\n    let count = 1;\n\n    for (let schedule of solutions.slice(0, 12)) {\n      const border = (schedule.assignment_count === schedule.assignments.length) ?\n        '5px #008800 solid' : '1px black solid';\n      cards.push(\n        <Card variant={\"outlined\"} key={schedule.id} style={{width: '20%', margin: '1em', border: border}}>\n          <CardContent>\n            <Typography>Option {count}</Typography>\n            <Typography>Covered Classes: {schedule.assignment_count}/{schedule.assignments.length}</Typography>\n            <Typography>Issues: {getConstraintViolations(schedule)}</Typography>\n          </CardContent>\n          <CardActions>\n            <IconButton style={{marginLeft: \"auto\"}} component={Link} to={`/edit/${schedule.id}`}>\n              <EditIcon />\n            </IconButton>\n          </CardActions>\n        </Card>\n      );\n      count += 1;\n    }\n\n    return cards;\n  }\n\n  const handleError = (error) => {\n    if (error.message.slice(0, 3) === '403') {\n      setUnauthorized(true);\n    } else {\n      setErrorMessage(error.message);\n      setErrorOpen(true);\n    }\n  };\n\n  useEffect(() => {\n    const allPromise = Promise.all([\n      APIService.get(URL_SOLUTIONS), APIService.get(URL_INSTRUCTORS), APIService.get(URL_CLASSES),\n      APIService.get(URL_SOLUTION_CONSTRAINT_MAP), APIService.get(URL_CHANGES)\n    ]);\n\n    allPromise.then(data => {\n      setSolutions(data[0]);\n      setInstructors(data[1]);\n      setSections(data[2]);\n      setConstraintMap(data[3]);\n      setChanges(data[4].data_changed);\n      setLoaded(true);\n    }).catch(handleError);\n  }, []);\n\n  if (unauthorized) {\n    return (\n      <div>\n        {PageHeading('Generated Schedules')}\n        {UnauthorizedMessage('scheduler')}\n      </div>\n    );\n  }\n\n  return (\n    <div data-testid=\"AssistantPage\">\n      {PageHeading('Generated Schedules')}\n      {runningScheduler &&\n      <Typography>Please wait for the scheduler to finish, this step can take several minutes.</Typography>\n      }\n      {(!loaded) ?\n        <CircularProgress /> : runSchedulerSection()\n      }\n      {(loaded && changes && solutions.length > 0) &&\n        <Card variant={\"outlined\"} style={{margin: 'auto auto 1rem auto', width: '60%'}}>\n          <CardContent>\n            <Typography>These solutions were generated with data that has been modified, and could be invalid.\n              Click this button to re-run the scheduler!</Typography>\n          </CardContent>\n          <CardActions>\n            <Button variant={\"contained\"} color={\"primary\"} style={{margin: \"auto\"}}\n                    onClick={runScheduler}>Run Scheduler</Button>\n          </CardActions>\n        </Card>\n      }\n      {loaded &&\n        <Grid container alignItems={\"center\"} justifyContent={\"center\"}>\n          {generateCards()}\n        </Grid>\n      }\n      <ErrorDialog open={errorOpen} setOpen={setErrorOpen} message={errorMessage} />\n    </div>\n  );\n}\n\nAssistantPage.propTypes = {};\n\nAssistantPage.defaultProps = {};\n\nexport default AssistantPage;\n","import React, {useEffect, useState} from 'react';\nimport PropTypes from 'prop-types';\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Chip from \"@material-ui/core/Chip\";\nimport APIService from \"../../../APIService\";\nimport {URL_INSTRUCTORS} from \"../../../urls\";\n\n\nconst InstructorForm = (props) => {\n  const { row, setRow, disciplines } = props;\n  const [newQualification, setNewQualification] = useState('');\n\n  const onLastNameChange = (e) => setRow({...row, lastName: e.target.value});\n  const onMaxSectionsChange = (e) => setRow({...row, maxSections: e.target.value.replace(/[^0-9]/g, '')});\n  const onNewQualificationChange = (e) => setNewQualification(e.target.value);\n  const onAddNewQualification = () => setRow({...row, qualifications: row.qualifications.concat([newQualification])});\n\n  const getDisciplineOptions = () => disciplines.filter(\n    d => row.qualifications.findIndex(q => q.id === d.id) < 0\n  );\n\n  return (\n    <Grid container alignItems={\"center\"} justifyContent={\"center\"} spacing={2}>\n      <Grid item>\n        <TextField id={\"lastNameInput\"} label={\"Last Name\"} required\n                   inputProps={{ maxLength: 30 }} type={\"text\"}\n                   value={row.lastName || ''} onChange={onLastNameChange} />\n      </Grid>\n      <Grid item>\n        <TextField id={\"maxSectionsInput\"} label={\"Max Sections\"} required\n                   inputProps={{ inputMode: 'numeric', pattern: '[0-9]*', maxLength: 2 }} type={\"text\"}\n                   value={row.maxSections || ''} onChange={onMaxSectionsChange} />\n      </Grid>\n      <Grid item>\n        <TextField id={\"qualificationsSelect\"} select label={\"Qualifications\"} style={{minWidth: 150}}\n                   value={newQualification} onChange={onNewQualificationChange}>\n          {getDisciplineOptions().map((option) => (\n            <MenuItem key={option.name} value={option}>\n              {option.name}\n            </MenuItem>\n          ))}\n        </TextField>\n      </Grid>\n      <Grid item>\n        <Button variant={\"contained\"} color={\"default\"} onClick={onAddNewQualification}>Add</Button>\n      </Grid>\n      <Grid item xs={12}>\n        {row.qualifications.map((qual) => (\n          <Chip label={qual.name}\n                onDelete={() => setRow({...row, qualifications: row.qualifications.filter(x => x.id !== qual.id)})} />\n        ))}\n      </Grid>\n    </Grid>\n  );\n}\n\n\nconst InstructorDialog = (props) => {\n  const { create, open, setOpen, row, disciplines, setInstructors, errorDialog } = props;\n  const [instructorFormData, setInstructorFormData] = useState(\n    {lastName: null, maxSections: null, qualifications: []});\n\n  const title = (create) ? 'Create Instructor' : 'Edit Instructor';\n\n  const close = () => setOpen(false);\n\n  const onSubmit = () => {\n    let data = {...instructorFormData, qualifications: instructorFormData.qualifications.map(obj => obj.id)};\n\n    if (create) {\n      APIService.post(URL_INSTRUCTORS, data).then((newRow) => {\n        setInstructors((instructors) => instructors.concat(\n          [{...newRow, qualifications: instructorFormData.qualifications}])\n        );\n      }, (error) => errorDialog(error.message)).finally(close);\n    } else {\n      APIService.put(URL_INSTRUCTORS, data).then(() => {\n        setInstructors((instructors) => {\n          const rowIndex = instructors.findIndex(instructor => instructor.id === instructorFormData.id);\n          const instructorsCopy = instructors.slice(0);\n          instructorsCopy[rowIndex] = instructorFormData;\n          return instructorsCopy;\n        });\n      }, (error) => errorDialog(error.message)).finally(close);\n    }\n  }\n\n  useEffect(() => {\n    if (open && !create) {\n      setInstructorFormData(row);\n    } else if (open && create) {\n      setInstructorFormData({lastName: null, maxSections: null, qualifications: []});\n    }\n  }, [open]);\n\n  return (\n    <div data-testid=\"InstructorDialog\">\n      <Dialog open={open}\n              onClose={close}\n              aria-labelledby=\"instructor-dialog\"\n              fullWidth maxWidth={\"sm\"}>\n        <DialogTitle id=\"instructor-dialog\">{title}</DialogTitle>\n        <DialogContent>\n          <InstructorForm row={instructorFormData} setRow={setInstructorFormData} disciplines={disciplines} />\n        </DialogContent>\n        <DialogActions>\n          <Button variant={\"contained\"} onClick={close} color={\"default\"}>Cancel</Button>\n          <Button variant={\"contained\"} disabled={!instructorFormData.lastName || !instructorFormData.maxSections}\n                  onClick={onSubmit} color={\"primary\"}>Submit</Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}\n\nInstructorDialog.propTypes = {};\n\nInstructorDialog.defaultProps = {};\n\nexport default InstructorDialog;\n","import React, {useState} from 'react';\nimport PropTypes from 'prop-types';\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport ListItemSecondaryAction from \"@material-ui/core/ListItemSecondaryAction\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport Divider from \"@material-ui/core/Divider\";\nimport List from \"@material-ui/core/List\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport InstructorDialog from \"../InstructorDialog/InstructorDialog\";\nimport APIService from \"../../../APIService\";\nimport {URL_INSTRUCTORS} from \"../../../urls\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\n\nconst InstructorList = (props) => {\n  const {instructors, setInstructors, disciplines, writeAuthorized, errorDialog} = props;\n  const [selected, setSelected] = useState({});\n\n  const [addOpen, setAddOpen] = useState(false);\n  const openAddDialog = () => setAddOpen(true);\n  const [editOpen, setEditOpen] = useState(false);\n  const openEditDialog = (instructor) => {\n    setSelected(instructor);\n    setEditOpen(true);\n  };\n\n  const InstructorListItems = () => {\n    let listItems = [];\n\n    for (let instructor of instructors) {\n      listItems.push(\n        <ListItem key={instructor.id}>\n          <ListItemText primary={instructor.lastName}\n                        secondary={'Assignment Limit: ' + instructor.maxSections.toString()} />\n          {writeAuthorized &&\n            <ListItemSecondaryAction>\n              <Tooltip title={'Edit Instructor'} placement={'left'}>\n                <IconButton edge={\"end\"} aria-label={\"edit-instructor\"} onClick={() => openEditDialog(instructor)}>\n                  <EditIcon />\n                </IconButton>\n              </Tooltip>\n              <Tooltip title={'Delete Instructor'} placement={'right'}>\n                <IconButton edge={\"end\"} aria-label={\"delete-instructor\"}\n                            onClick={() => {\n                              APIService.delete(URL_INSTRUCTORS, instructor.id).then(() => {\n                                setInstructors(instructors.filter(i => i.id !== instructor.id));\n                              }, (error) => errorDialog(error.message));\n                            }}>\n                  <DeleteIcon />\n                </IconButton>\n              </Tooltip>\n            </ListItemSecondaryAction>\n          }\n        </ListItem>\n      );\n      listItems.push(<Divider key={`divider-${instructor.id}`} />);\n    }\n\n    return listItems;\n  };\n\n  return (\n    <div data-testid=\"InstructorList\">\n      <List style={{border: `1px #0000001f solid`}}>\n        {InstructorListItems()}\n        {writeAuthorized &&\n          <ListItem button onClick={openAddDialog} key={'addRow'}>\n            <ListItemIcon><AddIcon /></ListItemIcon>\n            <ListItemText primary={'Add New'} />\n          </ListItem>\n        }\n      </List>\n      {writeAuthorized &&\n      <>\n        <InstructorDialog create={true} open={addOpen} setOpen={setAddOpen} errorDialog={errorDialog}\n                          disciplines={disciplines} setInstructors={setInstructors} />\n        <InstructorDialog open={editOpen} setOpen={setEditOpen} row={selected} errorDialog={errorDialog}\n                          disciplines={disciplines} setInstructors={setInstructors} />\n      </>\n      }\n    </div>\n  );\n};\n\nInstructorList.propTypes = {};\n\nInstructorList.defaultProps = {};\n\nexport default InstructorList;\n","export const DayAbbrevToValue = {\n  'Mon.': 'Monday', 'Tue.': 'Tuesday', 'Wed.': 'Wednesday', 'Thu.': 'Thursday',\n  'Fri.': 'Friday', 'Sat.': 'Saturday', 'Sun.': 'Sunday'\n};\n\nexport const LoginFormMessages = {\n  registerSuccess:\n    'Successfully submitted registration request. You will receive an email when your request has been processed.',\n  wrongCredentials:\n    'Wrong email or password, please try again.'\n};\n\nexport const timeslotToString = (timeslot) => {\n  if (timeslot.begin_time.length > 5) timeslot.begin_time = timeslot.begin_time.slice(0, -3);\n  if (timeslot.end_time.length > 5) timeslot.end_time = timeslot.end_time.slice(0, -3);\n  return `${timeslot.meetingDays} ${timeslot.begin_time}-${timeslot.end_time}`;\n};\n\nexport const convertTimeToNumber = (time) => {\n  const hours = Number(time.split(':')[0]);\n  const minutes = Number(time.split(':')[1] / 60);\n  return hours + minutes;\n}\n\nexport const pairwise = (arr, func) => {\n  for (let i = 0; i < arr.length - 1; i++) {\n    func(arr[i], arr[i + 1]);\n  }\n};\n","import React, {useState, useEffect} from 'react';\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport {timeslotToString} from \"../../../constants\";\r\nimport ArrowDropDown from \"@material-ui/icons/ArrowDropDown\";\r\nimport ArrowRight from \"@material-ui/icons/ArrowRight\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\nimport List from \"@material-ui/core/List\";\r\nimport {withStyles} from \"@material-ui/core\";\r\n\r\n\r\nconst SectionForm = (props) => {\r\n  const { row, classes } = props;\r\n  const [selectedSection, setSelectedSection] = useState(-1);\r\n\r\n  useEffect(() => {\r\n    const classesOnCourse = classes.filter(cls => cls.course.id === row.id);\r\n    if (classesOnCourse.length > 0) {\r\n      setSelectedSection(classesOnCourse[0].id);\r\n    }\r\n  }, []);\r\n\r\n  const CenteredListItem = withStyles({\r\n    root: {textAlign: 'center'}\r\n  })(ListItemText);\r\n\r\n  const getIcon = (id) => {\r\n    if (selectedSection === id) {\r\n      return (<ListItemIcon><ArrowRight/></ListItemIcon>);\r\n    } else {\r\n      return (<ListItemIcon><ArrowDropDown/></ListItemIcon>);\r\n    }\r\n  };\r\n\r\n  const getTimeSlotRows = (cls) => {\r\n    if (cls.id !== selectedSection) return [];\r\n    let rows = [];\r\n    for (let time of cls.meetingTimes) {\r\n      const label = timeslotToString(time);\r\n      rows.push((\r\n        <ListItem key={time.id}>\r\n          <CenteredListItem primary={label} />\r\n        </ListItem>\r\n      ));\r\n    }\r\n    return rows;\r\n  };\r\n\r\n  const getSectionList = () => {\r\n    let list = [];\r\n    if (classes) {\r\n      list = classes.filter(cls => cls.course.id === row.id).map((cls) => (\r\n        <div key={cls.id}>\r\n          <ListItem button onClick={() => setSelectedSection(cls.id)}>\r\n            {getIcon(cls.id)}\r\n            <ListItemText primary={`Section ${cls.id}`} secondary={`${cls.meetingTimes.length} time slot(s)`} />\r\n          </ListItem>\r\n          <List>\r\n            {getTimeSlotRows(cls)}\r\n          </List>\r\n        </div>\r\n      ))\r\n    }\r\n    return list;\r\n  };\r\n\r\n  return (\r\n    <Grid container alignItems={\"center\"} justifyContent={\"center\"} spacing={2}>\r\n      <Grid item xs={12}>\r\n        {getSectionList()}\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default SectionForm;\r\n","import React, {useEffect, useState} from 'react';\nimport PropTypes from 'prop-types';\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport Grid from \"@material-ui/core/Grid\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Chip from \"@material-ui/core/Chip\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Typography from \"@material-ui/core/Typography\";\nimport SectionForm from \"../SectionForm/SectionForm\";\nimport APIService from \"../../../APIService\";\nimport {URL_COURSES, URL_INSTRUCTORS} from \"../../../urls\";\nimport {Link} from \"react-router-dom\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport EditIcon from \"@material-ui/icons/Edit\";\n\n\nconst ClassForm = (props) => {\n  const { row, setRow, classes, setClasses, disciplines, create } = props;\n  const [newDiscipline, setNewDiscipline] = useState('');\n\n  const onNewDisciplineChange = (e) => setNewDiscipline(e.target.value);\n  const getDisciplineOptions = () => disciplines.filter(\n    d => row.subject_disciplines.findIndex(q => q.id === d.id) < 0\n  );\n  const onAddNewDiscipline = () =>\n    setRow({...row, subject_disciplines: row.subject_disciplines.concat([newDiscipline])});\n\n  return (\n    <>\n      <Typography variant={'h6'} style={{textAlign: \"center\"}}>Course</Typography>\n      <Grid container alignItems={\"center\"} justifyContent={\"center\"} spacing={2}>\n        <Grid item>\n          <TextField label={\"Course Title\"} required value={row.course_title || ''}\n                     inputProps={{ maxLength: 55 }} type={\"text\"}\n                     onChange={(e) => setRow({...row, course_title: e.target.value})} />\n        </Grid>\n        <Grid item>\n          <TextField label={\"Course Number\"} required value={row.course_number || ''}\n                     inputProps={{ inputMode: 'numeric', pattern: '[0-9]*', maxLength: 4 }} type={\"text\"}\n                     onChange={(e) => setRow({...row, course_number: e.target.value})}  />\n        </Grid>\n        <Grid item>\n          <TextField select label={\"Subject Disciplines\"} style={{minWidth: 160}}\n                     value={newDiscipline} onChange={onNewDisciplineChange}>\n            {getDisciplineOptions().map((option) => (\n              <MenuItem key={option.name} value={option}>\n                {option.name}\n              </MenuItem>\n            ))}\n          </TextField>\n        </Grid>\n        <Grid item>\n          <Button variant={\"contained\"} color={\"default\"} onClick={onAddNewDiscipline}>Add</Button>\n        </Grid>\n        <Grid item xs={12}>\n          {row.subject_disciplines.map((qual) => (\n            <Chip key={qual.id} label={qual.name} onDelete={() =>\n              setRow({...row, subject_disciplines: row.subject_disciplines.filter(x => x.id !== qual.id)})} />\n          ))}\n        </Grid>\n      </Grid>\n      {!create &&\n        <>\n          <Typography variant={'h6'} style={{textAlign: \"center\", marginTop: \"1rem\", marginLeft: '-56px'}}>\n            <Tooltip title={'Edit Sections'} placement={'left'}>\n              <IconButton component={Link} to={`/setup/${row.id}`}>\n                <EditIcon />\n              </IconButton>\n            </Tooltip>\n            Sections\n          </Typography>\n          <SectionForm row={row} classes={classes} setClasses={setClasses} />\n        </>\n      }\n    </>\n\n  );\n};\n\n\nconst ClassDialog = (props) => {\n  const { create, open, setOpen, row, setCourses, classes, setClasses,\n    disciplines, setSelected, setEditOpen, errorDialog } = props;\n  const [courseFormData, setCourseFormData] = useState(\n    {course_title: '', course_number: null, subject_disciplines: []});\n\n  const title = (create) ? 'Create Class' : 'Edit Class';\n\n  const isCourseFormValid = () => {\n    return !courseFormData.course_title || !courseFormData.course_number;\n  };\n\n  const close = () => setOpen(false);\n\n  const onSubmit = () => {\n    const data = {...courseFormData, subject_disciplines: courseFormData.subject_disciplines.map(sd => sd.id)};\n\n    if (create) {\n      APIService.post(URL_COURSES, data).then((newRow) => {\n        const newCourse = {...newRow, subject_disciplines: courseFormData.subject_disciplines};\n        setCourses(courses => courses.concat([newCourse]));\n        setSelected(newCourse);\n        setEditOpen(true);\n      }, error => errorDialog(error.message)).finally(close);\n    } else {\n      APIService.put(URL_COURSES, data).then((data) => {\n        setCourses(courses => {\n          const rowIndex = courses.findIndex(crs => crs.id === courseFormData.id);\n          const coursesCopy = courses.slice(0);\n          coursesCopy[rowIndex] = courseFormData;\n          return coursesCopy;\n        });\n      }, error => errorDialog(error.message)).finally(close);\n    }\n  };\n\n  useEffect(() => {\n    if (open && !create) {\n      setCourseFormData(row);\n    } else if (open && create) {\n      setCourseFormData({course_title: '', course_number: null, subject_disciplines: []});\n    }\n  }, [open]);\n\n  return (\n    <div data-testid=\"ClassDialog\">\n      <Dialog open={open}\n              onClose={close}\n              aria-labelledby=\"instructor-dialog\"\n              fullWidth maxWidth={\"sm\"}>\n        <DialogTitle id=\"instructor-dialog\">{title}</DialogTitle>\n        <DialogContent>\n          <ClassForm row={courseFormData} setRow={setCourseFormData} classes={classes} setClasses={setClasses}\n                     disciplines={disciplines} create={create} />\n        </DialogContent>\n        <DialogActions>\n          <Button variant={\"contained\"} onClick={close} color={\"default\"}>Cancel</Button>\n          <Button variant={\"contained\"} onClick={onSubmit} color={\"primary\"}\n                  disabled={isCourseFormValid()}>Submit</Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}\n\nClassDialog.propTypes = {};\n\nClassDialog.defaultProps = {};\n\nexport default ClassDialog;\n","import React, {useState} from 'react';\nimport PropTypes from 'prop-types';\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport ListItemSecondaryAction from \"@material-ui/core/ListItemSecondaryAction\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport Divider from \"@material-ui/core/Divider\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport List from \"@material-ui/core/List\";\nimport ClassDialog from \"../ClassDialog/ClassDialog\";\nimport APIService from \"../../../APIService\";\nimport {URL_COURSES} from \"../../../urls\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\n\nconst ClassList = (props) => {\n  const {classes, setClasses, courses, setCourses, disciplines, writeAuthorized, errorDialog} = props;\n  const [selected, setSelected] = useState({});\n\n  const [addOpen, setAddOpen] = useState(false);\n  const openAddDialog = () => setAddOpen(true);\n  const [editOpen, setEditOpen] = useState(false);\n  const openEditDialog = (course) => {\n    setSelected(course)\n    setEditOpen(true);\n  };\n\n  const ClassListItems = () => {\n    let listItems = [];\n\n    for (let course of courses) {\n      const classesOnCourse = classes.filter(cls => cls.course.id === course.id);\n      const meetingTimeStrings = classesOnCourse.map(cls => cls.meetingTimeString);\n      listItems.push(\n        <ListItem key={course.id}>\n          <ListItemText primary={'CPSC ' + course.course_number + ' - ' + course.course_title}\n                        secondary={classesOnCourse.length.toString() + ' Section(s) - ' + meetingTimeStrings.join(' | ')} />\n          {writeAuthorized &&\n            <ListItemSecondaryAction>\n              <Tooltip title={'Edit Course'} placement={'left'}>\n                <IconButton edge={\"end\"} onClick={() => openEditDialog(course)}>\n                  <EditIcon />\n                </IconButton>\n              </Tooltip>\n              <Tooltip title={'Delete Course'} placement={'right'}>\n                <IconButton edge={\"end\"}\n                            onClick={() => {\n                              APIService.delete(URL_COURSES, course.id).then(data => {\n                                setCourses(courses => courses.filter(crs => crs.id !== course.id));\n                              }, error => errorDialog(error.message));\n                            }}>\n                  <DeleteIcon />\n                </IconButton>\n              </Tooltip>\n            </ListItemSecondaryAction>\n          }\n        </ListItem>\n      );\n      listItems.push(<Divider key={`divider-${course.id}`} />);\n    }\n\n    return listItems;\n  };\n\n  return (\n    <div data-testid=\"ClassList\">\n      <List style={{border: `1px #0000001f solid`}}>\n        {ClassListItems()}\n        {writeAuthorized &&\n          <ListItem button onClick={openAddDialog} key={'addRow'}>\n            <ListItemIcon><AddIcon /></ListItemIcon>\n            <ListItemText primary={'Add New'} />\n          </ListItem>\n        }\n      </List>\n      {writeAuthorized &&\n        <>\n          <ClassDialog create={true} open={addOpen} setOpen={setAddOpen} setCourses={setCourses}\n                       disciplines={disciplines} setClasses={setClasses} errorDialog={errorDialog}\n                       setSelected={setSelected} setEditOpen={setEditOpen}/>\n          <ClassDialog open={editOpen} setOpen={setEditOpen} row={selected} setCourses={setCourses}\n                       disciplines={disciplines} classes={classes} setClasses={setClasses} errorDialog={errorDialog} />\n        </>\n      }\n\n    </div>\n  );\n};\n\nClassList.propTypes = {};\n\nClassList.defaultProps = {};\n\nexport default ClassList;\n","import React, {useEffect, useState} from 'react';\nimport PropTypes from 'prop-types';\nimport Grid from \"@material-ui/core/Grid\";\nimport Divider from \"@material-ui/core/Divider\";\nimport InstructorList from \"./InstructorList/InstructorList\";\nimport ClassList from \"./ClassList/ClassList\";\nimport APIService from \"../../APIService\";\nimport {URL_CLASSES, URL_COURSES, URL_DISCIPLINES, URL_INSTRUCTORS, URL_WRITE_ACCESS} from \"../../urls\";\nimport {PageHeading, UnauthorizedMessage} from \"../Utility/text-styles\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport Typography from \"@material-ui/core/Typography\";\nimport ErrorDialog from \"../Utility/ErrorDialog/ErrorDialog\";\n\nconst SetupPage = () => {\n  const [unauthorized, setUnauthorized] = useState(false);\n  const [writeAuthorized, setWriteAuthorized] = useState(true);\n  const [loaded, setLoaded] = useState(false);\n\n  const [disciplines, setDisciplines] = useState([]);\n  const [instructors, setInstructors] = useState([]);\n  const [classes, setClasses] = useState([]);\n  const [courses, setCourses] = useState([]);\n\n  const [errorOpen, setErrorOpen] = useState(false);\n  const [errorMessage, setErrorMessage] = useState('');\n\n  const openErrorDialog = (message) => {\n    setErrorMessage(message);\n    setErrorOpen(true);\n  };\n\n  const handleError = (error) => {\n    if (error.message.slice(0, 3) === '403') {\n      setUnauthorized(true);\n    } else {\n      openErrorDialog(error.message);\n    }\n  };\n\n  useEffect(() => {\n    const allPromise = Promise.all([APIService.get(URL_DISCIPLINES), APIService.get(URL_INSTRUCTORS),\n      APIService.get(URL_CLASSES), APIService.get(URL_COURSES)]);\n\n    allPromise.then(data => {\n      setDisciplines(data[0]);\n      setInstructors(data[1]);\n      setClasses(data[2]);\n      setCourses(data[3]);\n      setLoaded(true);\n    }, handleError);\n\n    APIService.get(URL_WRITE_ACCESS).then(() => {}, (error) => {\n      if (error.message === '403') setWriteAuthorized(false);\n    });\n  }, []);\n\n  if (unauthorized) {\n    return (\n      <div data-testid=\"SetupPage\">\n        {PageHeading('Setup Page')}\n        {UnauthorizedMessage('setup')}\n      </div>\n    );\n  }\n\n  return (\n    <div data-testid=\"SetupPage\">\n      <Grid container spacing={2} justifyContent={\"center\"}>\n        <Grid container item xs={5} direction={\"column\"}>\n          {PageHeading('Teaching Staff', 'h4')}\n          <div style={{padding: '1rem 5rem'}}>\n            {(!loaded) ?\n              <CircularProgress /> :\n              <InstructorList instructors={instructors} setInstructors={setInstructors} disciplines={disciplines}\n                              writeAuthorized={writeAuthorized} errorDialog={openErrorDialog} />}\n          </div>\n        </Grid>\n        <Divider orientation={\"vertical\"} flexItem />\n        <Grid container item xs={5} direction={\"column\"}>\n          {PageHeading('Class Roster', 'h4')}\n          <div style={{padding: '1rem 5rem'}}>\n            {(!loaded) ?\n              <CircularProgress /> :\n              <ClassList classes={classes} setClasses={setClasses} courses={courses} setCourses={setCourses}\n                         disciplines={disciplines} writeAuthorized={writeAuthorized} errorDialog={openErrorDialog} />}\n          </div>\n        </Grid>\n      </Grid>\n      <ErrorDialog open={errorOpen} setOpen={setErrorOpen} message={errorMessage} />\n    </div>\n  );\n};\n\nSetupPage.propTypes = {};\n\nSetupPage.defaultProps = {};\n\nexport default SetupPage;\n","import React, {useEffect, useState} from 'react';\nimport useTheme from \"@material-ui/core/styles/useTheme\";\nimport Grid from \"@material-ui/core/Grid\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Button from \"@material-ui/core/Button\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport {PageHeading} from \"../Utility/text-styles\";\nimport APIService from \"../../APIService\";\nimport {saveToken} from \"../../auth\";\nimport {URL_CHANGE_PASSWORD, URL_CREATE_REGISTRATION_REQUEST} from \"../../urls\";\nimport Typography from \"@material-ui/core/Typography\";\nimport {LoginFormMessages} from \"../../constants\";\n\nconst LoginForm = (setUsername, setPassword) => {\n  return (\n    <>\n      <Grid container alignItems={\"center\"} justifyContent={\"center\"} spacing={2}>\n        <Grid item xs={12}>\n          <TextField required label={\"Email\"} type={\"text\"} onChange={event => setUsername(event.target.value)} />\n        </Grid>\n        <Grid item xs={12}>\n          <TextField required label={\"Password\"} type={\"password\"} onChange={event => setPassword(event.target.value)} />\n        </Grid>\n      </Grid>\n    </>\n  );\n};\n\nconst RegisterForm = (accessLevels, setUsername, setPassword, setAccessLevel) => {\n  return (\n    <>\n      <Grid container alignItems={\"center\"} justifyContent={\"center\"} spacing={2}>\n        <Grid item xs={12}>\n          <TextField required label={\"Email\"} type={\"text\"}\n                     onChange={e => setUsername(e.target.value)} />\n        </Grid>\n        <Grid item xs={12}>\n          <TextField select label={\"Requested Access Level\"} style={{minWidth: 200}}\n                     onChange={e => setAccessLevel(e.target.value)}>\n            {accessLevels.map((option) => (\n              <MenuItem key={option} value={option}>\n                {option}\n              </MenuItem>\n            ))}\n          </TextField>\n        </Grid>\n        <Grid item xs={12}>\n          <TextField required label={\"Requested Password\"} type={\"password\"}\n                     onChange={e => setPassword(e.target.value)} />\n        </Grid>\n      </Grid>\n    </>\n  );\n};\n\nconst LoginPage = () => {\n  const [isLoginForm, setIsLoginForm] = useState(true);\n  const accessLevels = ['root', 'admin', 'assistant'];\n\n  const [username, setUsername] = useState();\n  const [password, setPassword] = useState();\n  const [accessLevel, setAccessLevel] = useState();\n\n  const [errorMessage, setErrorMessage] = useState('');\n  const [successMessage, setSuccessMessage] = useState('');\n\n  const handleError = (error) => {\n    setUsername('');\n    setPassword('');\n\n    let message = 'ERROR: ';\n    message += (error.message.slice(0, 3) === '400') ? LoginFormMessages.wrongCredentials : error.message;\n    setErrorMessage(message);\n  };\n\n  const onSubmit = () => {\n    setErrorMessage('');\n    setSuccessMessage('');\n    if (isLoginForm) {\n      APIService.authenticate(username, password).then((data) => {\n        saveToken(data);\n        window.location.reload(false);\n      }, (error) => {\n        if (error.message.slice(0, 3) === '404') {\n          // This means that this is first user\n          APIService.put(URL_CHANGE_PASSWORD,\n            {username: 'root', password: 'root', new_password: password}, false).then(() => {\n            APIService.authenticate('root', password).then(data => {\n              saveToken(data);\n              window.location.reload(false);\n            }, handleError);\n          }, handleError);\n        } else {\n          handleError(error);\n        }\n      });\n    } else {\n      APIService.post(URL_CREATE_REGISTRATION_REQUEST,\n        {contact_email: username, requested_password: password, access_level: accessLevel}).then((data) => {\n        setSuccessMessage(LoginFormMessages.registerSuccess);\n      }, handleError);\n    }\n  };\n\n  const switchForm = () => {\n    setErrorMessage('');\n    setSuccessMessage('');\n    setIsLoginForm(!isLoginForm)\n  };\n\n  return (\n    <div data-testid=\"LoginPage\">\n      {PageHeading((isLoginForm) ? 'Login' : 'Submit Registration Request')}\n      <div style={{margin: '1rem'}}>\n        {(errorMessage !== '') &&\n          <Typography color={\"error\"} style={{fontWeight: 'bold'}}>{errorMessage}</Typography>\n        }\n        {(successMessage !== '') &&\n          <Typography style={{fontWeight: 'bold'}}>{successMessage}</Typography>\n        }\n      </div>\n      {(isLoginForm) ?\n        LoginForm(setUsername, setPassword) :\n        RegisterForm(accessLevels, setUsername, setPassword, setAccessLevel)\n      }\n      <Button color={\"primary\"} variant={\"contained\"} style={{marginTop: '2em', marginRight: '1em'}}\n              onClick={onSubmit}>Submit</Button>\n      <Button color={\"default\"} variant={\"contained\"}\n              style={{marginTop: '2em'}}\n              onClick={switchForm}>\n        {(isLoginForm) ? 'Register' : 'Return to Login'}\n      </Button>\n    </div>\n  );\n};\nLoginPage.propTypes = {};\n\nLoginPage.defaultProps = {};\n\nexport default LoginPage;\n","import {createTheme, responsiveFontSizes} from \"@material-ui/core/styles\";\nimport React, {Component} from \"react\";\nimport {MuiThemeProvider} from \"@material-ui/core\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\n\nconst muiTheme = responsiveFontSizes(createTheme({\n  palette: {\n    primary: {\n      main: '#800000'\n    }\n  }\n}));\n\nexport const styleWrapper = Component => props => {\n  return (\n    <MuiThemeProvider theme={muiTheme}>\n      <CssBaseline />\n      <Component {...props} />\n    </MuiThemeProvider>\n  );\n};\n","import React, {useEffect, useState} from 'react';\nimport PropTypes from 'prop-types';\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport Typography from \"@material-ui/core/Typography\";\nimport TextField from \"@material-ui/core/TextField\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Button from \"@material-ui/core/Button\";\n\n\nconst EditAssignmentDialog = (props) => {\n  const { open, setOpen, row, schedule, setSchedule, instructors, sectionOverlapMap, disciplineMap } = props;\n  const [selectedInstructor, setSelectedInstructor] = useState();\n\n  const close = () => setOpen(false);\n\n  const onInstructorSelect = (e) => {\n    setSelectedInstructor(e.target.value);\n  };\n\n  const onSubmit = () => {\n    let newScheduleAssignments = schedule.assignments;\n    const replaceIndex = newScheduleAssignments.findIndex(as => as.id === row.id);\n    newScheduleAssignments[replaceIndex].instructor = selectedInstructor;\n\n    const newSchedule = schedule;\n    schedule.assignments = newScheduleAssignments\n    setSchedule(newSchedule);\n    close();\n  };\n\n  useEffect(() => {\n    if (row != null) {\n      setSelectedInstructor(row.instructor);\n    }\n  }, [row]);\n\n\n  return (\n    <div data-testid=\"EditAssignmentDialog\">\n      <Dialog open={open} onClose={close}\n              fullWidth maxWidth={\"sm\"}>\n        <DialogTitle>Edit Assignment</DialogTitle>\n        <DialogContent>\n          {row != null &&\n            <>\n              <Typography style={{textAlign: \"center\", fontWeight: 'bold'}}>\n                {row.course_number} {row.course_title}</Typography>\n              <Typography style={{textAlign: \"center\"}}>\n                {row.meetingTimeString}</Typography>\n            </>\n          }\n          {instructors.size != null &&\n            <TextField select label={\"Instructor\"} style={{minWidth: 160}}\n                       value={selectedInstructor} onChange={onInstructorSelect}>\n              {Array.from(instructors.values()).map((instructor) => (\n                <MenuItem key={instructor.id} value={instructor.id}>\n                  {instructor.lastName}\n                </MenuItem>\n              ))}\n            </TextField>\n          }\n        </DialogContent>\n        <DialogActions>\n          <Button variant={\"contained\"} onClick={close}>Cancel</Button>\n          <Button variant={\"contained\"} color={\"primary\"}\n                  onClick={onSubmit} disabled={!selectedInstructor}>Submit</Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}\n\nEditAssignmentDialog.propTypes = {};\n\nEditAssignmentDialog.defaultProps = {};\n\nexport default EditAssignmentDialog;\n","import React, {useEffect, useState} from 'react';\nimport {PageHeading, UnauthorizedMessage} from \"../../Utility/text-styles\";\nimport {Link, useParams} from \"react-router-dom\";\nimport APIService from \"../../../APIService\";\nimport {URL_CLASSES, URL_INSTRUCTORS, URL_SOLUTION_CONSTRAINT_MAP, URL_SOLUTIONS} from \"../../../urls\";\nimport {DataGrid} from \"@material-ui/data-grid\";\nimport Button from \"@material-ui/core/Button\";\nimport EditAssignmentDialog from \"./EditAssignmentDialog/EditAssignmentDialog\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport ErrorDialog from \"../../Utility/ErrorDialog/ErrorDialog\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport Alert from \"@material-ui/lab/Alert\";\n\n\nconst EditSolution = () => {\n  const [solution, setSolution] = useState();\n  const [editedSolution, setEditedSolution] = useState();\n  const [instructors, setInstructors] = useState({});\n  const [sections, setSections] = useState({});\n  const [sectionOverlapMap, setSectionOverlapMap] = useState({});\n  const [disciplineMap, setDisciplineMap] = useState({});\n  const [editDialogOpen, setEditDialogOpen] = useState(false);\n  const [editRow, setEditRow] = useState();\n  const [loaded, setLoaded] = useState(false);\n  const [unauthorized, setUnauthorized] = useState(false);\n\n  const [successSnackbar, setSuccessSnackbar] = useState(false);\n  const [editsMade, setEditsMade] = useState(false);\n  const [errorOpen, setErrorOpen] = useState(false);\n  const [errorMessage, setErrorMessage] = useState('');\n\n  const { solution_id } = useParams();\n\n  const handleError = (error) => {\n    if (error.message.slice(0, 3) === '403') {\n      setUnauthorized(true);\n    } else {\n      setErrorMessage(error.message);\n      setErrorOpen(true);\n    }\n  };\n\n  const columns = [\n    { field: 'id', headerName: 'ID', hide: true},\n    { field: 'course_title', headerName: 'Course', flex: 1},\n    { field: 'course_number', hide: true},\n    { field: 'meetingTimeString', headerName: 'Meeting Times', flex: 3},\n    { field: 'subject_disciplines', headerName: 'Subject Disciplines', hide: true},\n    { field: 'instructor_lastName', headerName: 'Assigned Instructor', flex: 1},\n    { field: 'Edit', renderCell: (cellValues) => {\n        return (\n          <IconButton onClick={() => {\n            setEditRow(cellValues.row);\n            setEditDialogOpen(true);\n            setEditsMade(true);\n          }}>\n            <EditIcon />\n          </IconButton>\n        );\n      }, flex: 0.5},\n  ];\n\n  const getTableData = (assignments) => {\n    let data = [];\n\n    if (sections.size !== 0 && sections.size != null) {\n      for (let assignment of assignments) {\n        const section = sections.get(assignment.section);\n\n        let instructor_name = 'Unassigned';\n        if (assignment.instructor != null) {\n          instructor_name = instructors.get(assignment.instructor).lastName;\n        }\n\n        if (section) {\n          data.push({id: assignment.id, course_title: section.course.course_title,\n            course_number: section.course.course_number, meetingTimeString: section.meetingTimeString,\n            instructor: assignment.instructor, instructor_lastName: instructor_name,\n            subject_disciplines: section.course.subject_disciplines});\n        }\n      }\n    }\n\n    return data;\n  };\n\n  useEffect(() => {\n    const allPromise = Promise.all([APIService.get(URL_SOLUTIONS + solution_id.toString()),\n      APIService.get(URL_INSTRUCTORS), APIService.get(URL_CLASSES), APIService.get(URL_SOLUTION_CONSTRAINT_MAP)]);\n\n    allPromise.then(data => {\n      setSolution(data[0]);\n      setEditedSolution(data[0]);\n      setInstructors(new Map(data[1].map(obj => [obj.id, obj])));\n      setSections(new Map(data[2].map(obj => [obj.id, obj])));\n      setSectionOverlapMap(data[3].section_overlap_map);\n      setDisciplineMap(data[3].discipline_overlap_map);\n      setLoaded(true);\n    }).catch(handleError);\n  }, []);\n\n  if (unauthorized) {\n    return (\n      <div>\n        {UnauthorizedMessage()}\n      </div>\n    );\n  }\n\n  const onSubmit = () => {\n    APIService.put(`${URL_SOLUTIONS}${solution_id}`, editedSolution, false).then(data => {\n      setSuccessSnackbar(true);\n      setEditsMade(false);\n      setSolution(data);\n      setEditedSolution(data);\n    }, handleError);\n  };\n\n  return (\n    <div data-testid=\"EditSolution\">\n      <div style={{marginBottom: '0.5rem', display: 'flex', flexDirection: 'row', justifyContent: 'space-between',\n        alignItems: 'flex-end', width: '80vw', marginLeft: 'auto', marginRight: 'auto'}}>\n        <Button variant={\"contained\"} style={{height: '36px'}} component={Link} to={'/'}>Back</Button>\n        {PageHeading('Edit Solution')}\n        <Button variant={\"contained\"} style={{height: '36px'}} color={\"primary\"}\n                disabled={!editsMade} onClick={onSubmit}>Submit</Button>\n      </div>\n      <div style={{height: '80vh', width: '80vw', margin: 'auto'}}>\n        {(loaded) ?\n          (<DataGrid rows={getTableData(editedSolution.assignments)} columns={columns} autoPageSize/>)\n          : (<CircularProgress />)}\n      </div>\n      {loaded &&\n        <EditAssignmentDialog open={editDialogOpen} setOpen={setEditDialogOpen} row={editRow} schedule={editedSolution}\n                              setSchedule={setEditedSolution} instructors={instructors}\n                              sectionOverlapMap={sectionOverlapMap} disciplineMap={disciplineMap} />\n      }\n      <ErrorDialog open={errorOpen} setOpen={setErrorOpen} message={errorMessage} />\n      <Snackbar open={successSnackbar} autoHideDuration={4000} onClose={() => setSuccessSnackbar(false)}>\n        <Alert severity={'success'}>Solution saved successfully</Alert>\n      </Snackbar>\n    </div>\n  );\n};\n\nEditSolution.propTypes = {};\n\nEditSolution.defaultProps = {};\n\nexport default EditSolution;\n","import React, {useState} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport {DayAbbrevToValue} from \"../../../../constants\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\n\r\n\r\nconst CreateTimeSlotDialog = (props) => {\r\n  const { open, setOpen, onSubmit } = props;\r\n  const [timeslot, setTimeslot] = useState({meetingDays: 'Mon.', begin_time: '', end_time: ''});\r\n\r\n  const onBeforeSubmit = () => {\r\n    onSubmit(timeslot);\r\n    setOpen(false);\r\n    setTimeslot({meetingDays: 'Mon.', begin_time: '', end_time: ''});\r\n  }\r\n\r\n  const getTimeSlotForm = () => {\r\n    return (\r\n      <div>\r\n        <Grid container alignItems={\"center\"} justifyContent={\"center\"} spacing={2}>\r\n          <Grid item xs={4}>\r\n            <TextField select label={\"Day\"} style={{minWidth: 60}} value={timeslot.meetingDays}\r\n                       onChange={event => setTimeslot({...timeslot, meetingDays: event.target.value})}>\r\n              {Object.keys(DayAbbrevToValue).map((option) => (\r\n                <MenuItem key={option} value={option}>\r\n                  {option}\r\n                </MenuItem>\r\n              ))}\r\n            </TextField>\r\n          </Grid>\r\n          <Grid item xs={8}>\r\n            <TextField label={\"Begin Time\"} type={\"time\"} value={timeslot.begin_time}\r\n                       onChange={event => setTimeslot({...timeslot, begin_time: event.target.value})}\r\n                       InputLabelProps={{shrink: true}} inputProps={{step: 60}} fullWidth />\r\n          </Grid>\r\n          <Grid item xs={8}>\r\n            <TextField label={\"End Time\"} type={\"time\"} value={timeslot.end_time}\r\n                       onChange={event => setTimeslot({...timeslot, end_time: event.target.value})}\r\n                       InputLabelProps={{shrink: true}} inputProps={{step: 60}} fullWidth />\r\n          </Grid>\r\n        </Grid>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const close = () => setOpen(false);\r\n\r\n  return (\r\n    <div data-testid=\"CreateTimeSlotDialog\">\r\n      <Dialog open={open} onClose={close}>\r\n        <DialogTitle>Create Time Slot</DialogTitle>\r\n        <DialogContent>\r\n          {getTimeSlotForm()}\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button variant={\"contained\"}  onClick={close}>Cancel</Button>\r\n          <Button variant={\"contained\"} color={\"primary\"}\r\n                  disabled={timeslot.begin_time === '' || timeslot.end_time === ''}\r\n                  onClick={onBeforeSubmit}>Submit</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n};\r\n\r\nCreateTimeSlotDialog.propTypes = {};\r\n\r\nCreateTimeSlotDialog.defaultProps = {};\r\n\r\nexport default CreateTimeSlotDialog;\r\n","import React, {useEffect, useState} from 'react';\nimport PropTypes from 'prop-types';\nimport {Link, useParams} from \"react-router-dom\";\nimport {PageHeading, UnauthorizedMessage} from \"../../Utility/text-styles\";\nimport Typography from \"@material-ui/core/Typography\";\nimport APIService from \"../../../APIService\";\nimport {URL_CLASSES, URL_COURSES} from \"../../../urls\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport TextField from \"@material-ui/core/TextField\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport Divider from \"@material-ui/core/Divider\";\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport ListItemSecondaryAction from \"@material-ui/core/ListItemSecondaryAction\";\nimport Button from \"@material-ui/core/Button\";\nimport CreateTimeSlotDialog from \"./CreateTimeSlotDialog/CreateTimeSlotDialog\";\nimport {convertTimeToNumber, DayAbbrevToValue, pairwise, timeslotToString} from \"../../../constants\";\nimport ErrorDialog from \"../../Utility/ErrorDialog/ErrorDialog\";\n\n\nconst EditSection = () => {\n  const [course, setCourse] = useState();\n  const [sections, setSections] = useState([]);\n\n  const [unauthorized, setUnauthorized] = useState(false);\n  const [loaded, setLoaded] = useState(false);\n  const [selectedSection, setSelectedSection] = useState();\n  const [selectedTimeSlot, setSelectedTimeSlot] = useState();\n\n  const [addOpen, setAddOpen] = useState(false);\n  const [action, setAction] = useState('');\n  const [errorOpen, setErrorOpen] = useState(false);\n  const [errorMessage, setErrorMessage] = useState('');\n\n  const { course_id } = useParams();\n\n  const handleError = (error) => {\n    if (error.message.slice(0, 3) === '403') {\n      setUnauthorized(true);\n    } else {\n      setErrorMessage(`Encountered error: ${error.message}`);\n      setErrorOpen(true);\n    }\n  };\n\n  useEffect(() => {\n    const allPromise = Promise.all([APIService.get(`${URL_COURSES}${course_id}`), APIService.get(URL_CLASSES)]);\n\n    allPromise.then(data => {\n      setCourse(data[0]);\n      setSections(data[1].filter(section => section.course.id === data[0].id));\n      setLoaded(true)\n    }, handleError);\n  }, []);\n\n  const createSection = (timeSlot) => {\n    APIService.post(URL_CLASSES, {course: course.id, meetingTimes: [timeSlot]})\n      .then(data => {\n        setSections(sections => sections.concat([data]));\n        setSelectedSection(data.id);\n      }, handleError);\n  };\n\n  const deleteSection = () => {\n    APIService.delete(URL_CLASSES, selectedSection).then(data => {\n      setSections(sections => sections.filter(s => s.id !== selectedSection));\n      setSelectedSection(null);\n    }, handleError);\n  };\n\n  const updateSection = (section) => {\n    if (!validateSection(section)) {\n      handleError({message: 'Section cannot have overlapping time slots.'});\n      return;\n    }\n    APIService.put(URL_CLASSES, section).then((data) => {\n      setSections((sections) => {\n        const rowIndex = sections.findIndex(s => s.id === selectedSection);\n        const sectionsCopy = sections.slice(0);\n        sectionsCopy[rowIndex] = data;\n        return sectionsCopy;\n      });\n      console.log(selectedSection);\n      console.log(sections);\n    }, handleError);\n  };\n\n  const validateSection = (section) => {\n    let result = true;\n\n    // Check each day to ensure no times overlap\n    Object.keys(DayAbbrevToValue).forEach(day => {\n      const timesOnDay = section.meetingTimes.filter(mt => mt.meetingDays === day);\n      if (timesOnDay.length > 0) {\n        let timeIntervals = [];\n\n        // Convert each time into a number\n        timesOnDay.forEach(meetingTime => {\n          timeIntervals.push([convertTimeToNumber(meetingTime.begin_time), convertTimeToNumber(meetingTime.end_time)]);\n        });\n\n        // Sort the time intervals\n        timeIntervals = timeIntervals.sort((i1, i2) => {\n          if (i1[0] > i2[1]) return 1;\n          if (i2[0] > i1[1]) return -1;\n          return 0;\n        });\n\n        // Check if any overlap\n        pairwise(timeIntervals, (curr, next) => {\n          if (next[0] < curr[1] && next[1] > curr[0]) {\n            result = false;\n          }\n        });\n\n        if (!result) return result;\n      }\n    });\n\n    return result;\n  };\n\n  const onDialogSubmit = (result) => {\n    console.log(result);\n\n    if (action === 'create') {\n      createSection(result);\n    } else if (action === 'add') {\n      const selected = sections.find(s => selectedSection === s.id);\n      if (selected != null) {\n        const section = {...selected, course: selected.course.id};\n        section.meetingTimes.push(result);\n        updateSection(section);\n      }\n    } else if (action === 'edit') {\n      const selected = sections.find(s => selectedSection === s.id);\n      if (selected != null) {\n        const section = {...selected, course: selected.course.id};\n        result = {...result, id: selectedTimeSlot};\n        section.meetingTimes = section.meetingTimes.map(mt => (mt.id === selectedTimeSlot) ? result : mt);\n        updateSection(section);\n      }\n    } else {\n      console.error('Time Slot Dialog submitted before action was set!');\n    }\n  };\n\n  const getSectionForm = () => {\n    return (\n      <div style={{marginBottom: '2rem'}}>\n        <Tooltip title={'Add New Section'} placement={'left'}>\n          <IconButton onClick={() => {\n            setAction('create');\n            setAddOpen(true);\n          }}>\n            <AddIcon />\n          </IconButton>\n        </Tooltip>\n        <TextField select label={\"Sections\"} style={{minWidth: 240, margin: 'auto 1rem'}}\n                   value={selectedSection || ''} onChange={(e) => setSelectedSection(e.target.value)}>\n          {sections.map((option) => (\n            <MenuItem key={option.id} value={option.id}>\n              {`Section ${option.id}`}\n            </MenuItem>\n          ))}\n        </TextField>\n        <Tooltip title={'Remove Section from Course'} placement={'right'}>\n          <IconButton onClick={() => {\n            deleteSection();\n          }}>\n            <DeleteIcon />\n          </IconButton>\n        </Tooltip>\n      </div>\n    );\n  };\n\n  const getTimeSlotListItems = () => {\n    let items = [];\n\n    const selected = sections.find(s => s.id === selectedSection);\n\n    if (selected != null) {\n      const times = selected.meetingTimes;\n      if (times.length > 0) {\n        times.forEach(time => {\n          items.push(\n            <ListItem key={time.id}>\n              <ListItemText primary={timeslotToString(time)} />\n              <ListItemSecondaryAction>\n                <Tooltip title={'Edit Timeslot'} placement={'left'}>\n                  <IconButton onClick={() => {\n                    setAction('edit');\n                    setSelectedTimeSlot(time.id);\n                    setAddOpen(true);\n                  }}>\n                    <EditIcon />\n                  </IconButton>\n                </Tooltip>\n                <Tooltip title={'Remove Timeslot'} placement={'right'}>\n                  <IconButton onClick={() => {\n                    setSelectedTimeSlot(time.id);\n                    const selected = sections.find(s => selectedSection === s.id);\n                    if (selected != null) {\n                      const section = {...selected, course: selected.course.id,\n                        meetingTimes: selected.meetingTimes.filter(mt => mt.id !== time.id)};\n                      if (section.meetingTimes.length === 0) {\n                        deleteSection();\n                      } else {\n                        updateSection(section);\n                      }\n                    }\n                  }}>\n                    <DeleteIcon />\n                  </IconButton>\n                </Tooltip>\n              </ListItemSecondaryAction>\n            </ListItem>\n          );\n        });\n      }\n    }\n\n    return items;\n  };\n\n  if (unauthorized) return (\n    <div>\n      {UnauthorizedMessage('edit section')}\n    </div>\n  );\n\n  return (\n    <div data-testid=\"EditSection\">\n      {(!loaded) ? <CircularProgress /> :\n        <>\n          {PageHeading(`Edit Sections (${course.course_number} ${course.course_title})`)}\n          <Typography style={{marginBottom: '1rem'}}>Select a section to view/edit timeslots below.</Typography>\n          {getSectionForm()}\n          <Divider />\n          {selectedSection != null &&\n          <List style={{width: '25%', margin: 'auto'}}>\n            {getTimeSlotListItems()}\n            <Tooltip title={'Add New Timeslot'}>\n              <IconButton onClick={() => {\n                setAction('add');\n                setAddOpen(true);\n              }}>\n                <AddIcon />\n              </IconButton>\n            </Tooltip>\n          </List>\n          }\n          <div style={{marginTop: '2.5rem'}}>\n            <Button variant={\"contained\"} color={\"primary\"} component={Link} to={'/setup/'}>Back to Setup</Button>\n          </div>\n          <CreateTimeSlotDialog open={addOpen} setOpen={setAddOpen} onSubmit={onDialogSubmit} />\n        </>\n      }\n      <ErrorDialog open={errorOpen} setOpen={setErrorOpen} message={errorMessage} />\n    </div>\n  );\n}\n\nEditSection.propTypes = {};\n\nEditSection.defaultProps = {};\n\nexport default EditSection;\n","import React from \"react\";\r\nimport { Routes, Route, Navigate } from \"react-router-dom\";\r\nimport MainNavbar from \"./components/MainNavbar/MainNavbar\";\r\nimport AssistantPage from \"./components/AssistantPage/AssistantPage\";\r\nimport SetupPage from \"./components/SetupPage/SetupPage\";\r\nimport LoginPage from \"./components/LoginPage/LoginPage\";\r\nimport {styleWrapper} from \"./StyleWrapper\";\r\nimport './App.css'\r\nimport EditSolution from \"./components/AssistantPage/EditSolution/EditSolution\";\r\nimport {getToken} from \"./auth\";\r\nimport EditSection from \"./components/SetupPage/EditSection/EditSection\";\r\n\r\nfunction App() {\r\n  return (\r\n    <>\r\n      <MainNavbar/>\r\n      <div className={'content'}>\r\n        <Routes>\r\n          <Route path={'/'} element={getToken() ? <AssistantPage /> : <Navigate to={\"/login\"} />} />\r\n          <Route path={'/edit/:solution_id'} element={getToken() ? <EditSolution /> : <Navigate to={\"/login\"} />} />\r\n          <Route path={'/setup'} element={getToken() ? <SetupPage /> : <Navigate to={\"/login\"} />} />\r\n          <Route path={'/setup/:course_id'} element={getToken() ? <EditSection /> : <Navigate to={\"/login\"} />} />\r\n          <Route path={'/login'} element={!getToken() ? <LoginPage /> : <Navigate to={\"/\"} />} />\r\n        </Routes>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default styleWrapper(App);\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport {BrowserRouter} from \"react-router-dom\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}