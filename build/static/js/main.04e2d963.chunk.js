(this["webpackJsonpdjango-react-boilerplate"]=this["webpackJsonpdjango-react-boilerplate"]||[]).push([[0],{183:function(e,t,n){},213:function(e,t,n){},216:function(e,t,n){"use strict";n.r(t);var c=n(0),i=n.n(c),r=n(17),s=n.n(r),a=(n(183),n(12)),o=n(255),u=n(257),l=n(63),j=n(77),d=n(36),b=n(105),O=n.n(b),f=function(){return O.a.get("token")},h=function(){O.a.remove("token")},x=n(2),m=function(){h(),window.location.reload(!1)},p=function(){return Object(x.jsx)("div",{"data-testid":"MainNavbar",children:Object(x.jsx)(o.a,{color:"primary",children:Object(x.jsxs)(u.a,{style:{justifyContent:"space-evenly"},children:[Object(x.jsx)(j.a,{variant:"h2",style:{width:"75%",fontWeight:"bolder",fontStyle:"italic"},children:"ADTAA"}),Object(x.jsx)(l.a,{color:"default",variant:"contained",component:d.b,to:"/",children:"Assistant"}),Object(x.jsx)(l.a,{color:"default",variant:"contained",component:d.b,to:"/setup",children:"Setup"}),f()?Object(x.jsx)(l.a,{color:"default",variant:"contained",onClick:m,children:"Logout"}):Object(x.jsx)(l.a,{color:"default",variant:"contained",component:d.b,to:"/login",children:"Login"})]})})})};p.defaultProps={};var g=p,v=n(5),y=n(33),S=n(265),C=n(262),w=n(263),_=n(264),k=n(78),T=n(50),I=n.n(T),P=n(76),N=n(40),q=n.n(N),A="/api/",E="".concat(A,"discipline/"),L="".concat(A,"instructor/"),D="".concat(A,"timeslot/"),W="".concat(A,"section/"),M="".concat(A,"course/"),F="".concat(A,"solution/"),R="".concat(A,"solution/constraintmap/"),z="".concat(A,"auth/token/"),B="".concat(A,"registrationrequest/create/");function J(e){if(401===e.status&&f()&&h(),e.status>=400&&e.status<600)throw new Error(e.status)}var G=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={},c="POST"===e.method||"PUT"===e.method,i=f();return c||i?(c&&(n["Content-Type"]="application/json"),i&&!t&&(n.Authorization="Token ".concat(i)),e.headers=n,e):e},U={authenticate:function(){var e=Object(P.a)(q.a.mark((function e(t,n){var c,i;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={method:"POST",body:JSON.stringify({username:t,password:n})},e.next=3,fetch(z,G(c,!0));case 3:return J(i=e.sent),e.abrupt("return",i.json());case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),get:function(){var e=Object(P.a)(q.a.mark((function e(t){var n,c;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"GET"},e.next=3,fetch(t,G(n));case 3:return J(c=e.sent),e.abrupt("return",c.json());case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),post:function(){var e=Object(P.a)(q.a.mark((function e(t,n){var c,i,r,s=arguments;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=s.length>2&&void 0!==s[2]&&s[2],i={method:"POST",body:JSON.stringify(n)},e.next=4,fetch(t,G(i,c));case 4:return J(r=e.sent),e.abrupt("return",r.json());case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),put:function(){var e=Object(P.a)(q.a.mark((function e(t,n){var c,i;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={method:"PUT",body:JSON.stringify(n)},e.next=3,fetch(t+n.id.toString(),G(c));case 3:return J(i=e.sent),e.abrupt("return",i.json());case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),delete:function(){var e=Object(P.a)(q.a.mark((function e(t,n){var c,i;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={method:"DELETE"},e.next=3,fetch(t+n.toString(),G(c));case 3:return J(i=e.sent),e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},Q=U,Y=n(101),H=n.n(Y),K=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"h3";return Object(x.jsx)(j.a,{variant:t,style:{color:H()().palette.primary,fontWeight:"bold",marginBottom:"0.5em"},children:e})},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"current";return Object(x.jsxs)(j.a,{children:["Your account is not authorized to access the ",e," page. Only administrators can make changes to this information. If you believe you should have access to this page, please contact an administrator or supervisor to correct this."]})},X=n(218),Z=function(e,t,n,c){var i=Object(x.jsx)("br",{});return 0===t.size||null==t.size||0===n.size||null==n.size?i=Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(j.a,{children:"Welcome to ADTAA! To get started, classes and instructors must be defined to generate schedules from. Please use the button below to go to the setup page."}),Object(x.jsx)("br",{}),Object(x.jsx)(l.a,{color:"primary",variant:"contained",component:d.b,to:"/setup",children:"Go to Setup"})]}):0===e.length&&(i=Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(j.a,{children:"No solutions have been generated."}),Object(x.jsx)("br",{}),Object(x.jsx)(l.a,{variant:"contained",color:"primary",onClick:function(){return function(e){Q.post(F).then((function(t){t&&e(t)}),(function(e){return console.error(e)}))}(c)},children:"Run Scheduler"})]})),i},$=function(e){var t,n=[],c=1,i=Object(y.a)(e);try{for(i.s();!(t=i.n()).done;){var r=t.value;n.push(Object(x.jsxs)(C.a,{variant:"outlined",style:{width:"20%",margin:"1em"},children:[Object(x.jsxs)(w.a,{children:[Object(x.jsxs)(j.a,{children:["Option ",c]}),Object(x.jsxs)(j.a,{children:["Covered Classes: ",r.assignment_count,"/",r.assignments.length]}),Object(x.jsx)(j.a,{children:"Issues: None"})]}),Object(x.jsx)(_.a,{children:Object(x.jsx)(k.a,{style:{marginLeft:"auto"},component:d.b,to:"/edit/".concat(r.id),children:Object(x.jsx)(I.a,{})})})]},r.id)),c+=1}}catch(s){i.e(s)}finally{i.f()}return n},ee=function(){var e=Object(c.useState)(!1),t=Object(v.a)(e,2),n=t[0],i=t[1],r=Object(c.useState)(!1),s=Object(v.a)(r,2),a=s[0],o=s[1],u=Object(c.useState)([]),l=Object(v.a)(u,2),j=l[0],d=l[1],b=Object(c.useState)({}),O=Object(v.a)(b,2),f=O[0],h=O[1],m=Object(c.useState)({}),p=Object(v.a)(m,2),g=p[0],y=p[1],C=function(e){"403"===e.message?i(!0):console.error(e)};return Object(c.useEffect)((function(){Promise.all([Q.get(F),Q.get(L),Q.get(W)]).then((function(e){d(e[0]),h(new Map(e[1].map((function(e){return[e.id,e]})))),y(new Map(e[2].map((function(e){return[e.id,e]})))),o(!0)})).catch(C)}),[]),n?Object(x.jsxs)("div",{children:[K("Generated Schedules"),V("scheduler")]}):Object(x.jsxs)("div",{"data-testid":"AssistantPage",children:[K("Generated Schedules"),a?Z(j,f,g,d):Object(x.jsx)(X.a,{}),Object(x.jsx)(S.a,{container:!0,alignItems:"center",justifyContent:"center",children:$(j.slice(0,12))})]})};ee.defaultProps={};var te=ee,ne=n(273),ce=n(222),ie=n(271),re=n(272),se=n(103),ae=n.n(se),oe=n(73),ue=n.n(oe),le=n(221),je=n(223),de=n(16),be=n(278),Oe=n(268),fe=n(269),he=n(270),xe=n(125),me=n(45),pe=n(280),ge=function(e){var t=e.row,n=e.setRow,i=e.disciplines,r=Object(c.useState)(""),s=Object(v.a)(r,2),a=s[0],o=s[1];return Object(x.jsxs)(S.a,{container:!0,alignItems:"center",justifyContent:"center",spacing:2,children:[Object(x.jsx)(S.a,{item:!0,children:Object(x.jsx)(xe.a,{id:"lastNameInput",label:"Last Name",required:!0,inputProps:{maxLength:30},type:"text",value:t.lastName||"",onChange:function(e){return n(Object(de.a)(Object(de.a)({},t),{},{lastName:e.target.value}))}})}),Object(x.jsx)(S.a,{item:!0,children:Object(x.jsx)(xe.a,{id:"maxSectionsInput",label:"Max Sections",required:!0,inputProps:{inputMode:"numeric",pattern:"[0-9]*",maxLength:2},type:"text",value:t.maxSections||"",onChange:function(e){return n(Object(de.a)(Object(de.a)({},t),{},{maxSections:e.target.value.replace(/[^0-9]/g,"")}))}})}),Object(x.jsx)(S.a,{item:!0,children:Object(x.jsx)(xe.a,{id:"qualificationsSelect",select:!0,label:"Qualifications",style:{minWidth:150},value:a,onChange:function(e){return o(e.target.value)},children:i.filter((function(e){return t.qualifications.findIndex((function(t){return t.id===e.id}))<0})).map((function(e){return Object(x.jsx)(me.a,{value:e,children:e.name},e.name)}))})}),Object(x.jsx)(S.a,{item:!0,children:Object(x.jsx)(l.a,{variant:"contained",color:"default",onClick:function(){return n(Object(de.a)(Object(de.a)({},t),{},{qualifications:t.qualifications.concat([a])}))},children:"Add"})}),Object(x.jsx)(S.a,{item:!0,xs:12,children:t.qualifications.map((function(e){return Object(x.jsx)(pe.a,{label:e.name,onDelete:function(){return n(Object(de.a)(Object(de.a)({},t),{},{qualifications:t.qualifications.filter((function(t){return t.id!==e.id}))}))}})}))})]})},ve=function(e){var t=e.create,n=e.open,i=e.setOpen,r=e.row,s=e.disciplines,a=e.setInstructors,o=Object(c.useState)({lastName:null,maxSections:null,qualifications:[]}),u=Object(v.a)(o,2),j=u[0],d=u[1],b=t?"Create Instructor":"Edit Instructor",O=function(){return i(!1)};return Object(c.useEffect)((function(){n&&!t?d(r):n&&t&&d({lastName:null,maxSections:null,qualifications:[]})}),[n]),Object(x.jsx)("div",{"data-testid":"InstructorDialog",children:Object(x.jsxs)(be.a,{open:n,onClose:O,"aria-labelledby":"instructor-dialog",fullWidth:!0,maxWidth:"sm",children:[Object(x.jsx)(Oe.a,{id:"instructor-dialog",children:b}),Object(x.jsx)(fe.a,{children:Object(x.jsx)(ge,{row:j,setRow:d,disciplines:s})}),Object(x.jsxs)(he.a,{children:[Object(x.jsx)(l.a,{variant:"contained",onClick:O,color:"default",children:"Cancel"}),Object(x.jsx)(l.a,{variant:"contained",disabled:!j.lastName||!j.maxSections,onClick:function(){var e=Object(de.a)(Object(de.a)({},j),{},{qualifications:j.qualifications.map((function(e){return e.id}))});t?Q.post(L,e).then((function(e){a((function(t){return t.concat([Object(de.a)(Object(de.a)({},e),{},{qualifications:j.qualifications})])})),i(!1)}),(function(e){return console.log(e)})):Q.put(L,e).then((function(){a((function(e){var t=e.findIndex((function(e){return e.id===j.id})),n=e.slice(0);return n[t]=j,n})),i(!1)}),(function(e){return console.log(e)}))},color:"primary",children:"Submit"})]})]})})};ve.defaultProps={};var ye=ve,Se=function(e,t,n){var c,i=[],r=Object(y.a)(e);try{var s=function(){var r=c.value;i.push(Object(x.jsxs)(ce.a,{children:[Object(x.jsx)(ie.a,{primary:r.lastName,secondary:"Assignment Limit: "+r.maxSections.toString()}),Object(x.jsxs)(re.a,{children:[Object(x.jsx)(k.a,{edge:"end","aria-label":"edit-instructor",onClick:function(){return n(r)},children:Object(x.jsx)(I.a,{})}),Object(x.jsx)(k.a,{edge:"end","aria-label":"delete-instructor",onClick:function(){Q.delete(L,r.id).then((function(){t(e.filter((function(e){return e.id!==r.id})))}),(function(e){return console.error(e)}))},children:Object(x.jsx)(ue.a,{})})]})]})),i.push(Object(x.jsx)(ne.a,{}))};for(r.s();!(c=r.n()).done;)s()}catch(a){r.e(a)}finally{r.f()}return i},Ce=function(e){var t=Object(c.useState)({}),n=Object(v.a)(t,2),i=n[0],r=n[1],s=Object(c.useState)(!1),a=Object(v.a)(s,2),o=a[0],u=a[1],l=Object(c.useState)(!1),j=Object(v.a)(l,2),d=j[0],b=j[1];return Object(x.jsxs)("div",{"data-testid":"InstructorList",children:[Object(x.jsxs)(le.a,{style:{border:"1px #0000001f solid"},children:[Se(e.instructors,e.setInstructors,(function(e){r(e),b(!0)})),Object(x.jsxs)(ce.a,{button:!0,onClick:function(){return u(!0)},children:[Object(x.jsx)(je.a,{children:Object(x.jsx)(ae.a,{})}),Object(x.jsx)(ie.a,{primary:"Add New"})]})]}),Object(x.jsx)(ye,{create:!0,open:o,setOpen:u,disciplines:e.disciplines,setInstructors:e.setInstructors}),Object(x.jsx)(ye,{open:d,setOpen:b,row:i,disciplines:e.disciplines,setInstructors:e.setInstructors})]})};Ce.defaultProps={};var we=Ce,_e={"Mon.":"Monday","Tue.":"Tuesday","Wed.":"Wednesday","Thu.":"Thursday","Fri.":"Friday","Sat.":"Saturday","Sun.":"Sunday"},ke=n(155),Te=n.n(ke),Ie=n(154),Pe=n.n(Ie),Ne=n(156),qe=n.n(Ne),Ae=n(224),Ee=n(225),Le=n(274),De=n(276),We=function(e){var t=e.row,n=e.classes,i=e.setClasses,r=Object(c.useState)(-1),s=Object(v.a)(r,2),a=s[0],o=s[1],u=Object(c.useState)(-1),j=Object(v.a)(u,2),d=j[0],b=j[1],O=Object(c.useState)({meetingDays:"Sun.",begin_time:"",end_time:""}),f=Object(v.a)(O,2),h=f[0],m=f[1],p=function(){return!Object.keys(_e).includes(h.meetingDays)||h.begin_time.length<5||h.end_time.length<5},g=function(e){Q.put(W,e).then((function(t){i((function(n){var c=n.findIndex((function(t){return t.id===e.id})),i=n.slice(0);return i[c]=t,i}))}),(function(e){return console.error(e)}))},C=function(e){if(e.id!==a)return[];var t,n=[],c=Object(y.a)(e.meetingTimes);try{for(c.s();!(t=c.n()).done;){var i=t.value,r="".concat(i.meetingDays," ").concat(i.begin_time,"-").concat(i.end_time);n.push(Object(x.jsx)(Ae.a,{value:i.id,label:r,control:Object(x.jsx)(De.a,{})}))}}catch(s){c.e(s)}finally{c.f()}return n};return Object(x.jsxs)(S.a,{container:!0,alignItems:"center",justifyContent:"center",spacing:2,children:[Object(x.jsx)(S.a,{item:!0,xs:2,children:Object(x.jsx)(xe.a,{select:!0,label:"Day",style:{minWidth:60},value:h.meetingDays,onChange:function(e){return m(Object(de.a)(Object(de.a)({},h),{},{meetingDays:e.target.value}))},children:Object.keys(_e).map((function(e){return Object(x.jsx)(me.a,{value:e,children:e},e)}))})}),Object(x.jsx)(S.a,{item:!0,xs:4,children:Object(x.jsx)(xe.a,{label:"Begin Time",type:"time",value:h.begin_time,onChange:function(e){return m(Object(de.a)(Object(de.a)({},h),{},{begin_time:e.target.value}))},InputLabelProps:{shrink:!0},inputProps:{step:60},fullWidth:!0})}),Object(x.jsx)(S.a,{item:!0,xs:4,children:Object(x.jsx)(xe.a,{label:"End Time",type:"time",value:h.end_time,onChange:function(e){return m(Object(de.a)(Object(de.a)({},h),{},{end_time:e.target.value}))},InputLabelProps:{shrink:!0},inputProps:{step:60},fullWidth:!0})}),n.filter((function(e){return e.course.id===t.id})).length>0&&Object(x.jsxs)(S.a,{item:!0,children:[Object(x.jsx)(l.a,{variant:"contained",color:"default",disabled:d<0||p(),onClick:function(){return e=Object(de.a)(Object(de.a)({},h),{},{id:d}),void Q.put(D,e).then((function(t){i((function(n){var c=n.findIndex((function(e){return e.id===a})),i=n.slice(0),r=i[c].meetingTimes.findIndex((function(t){return t.id===e.id}));return i[c].meetingTimes[r]=t,i}))}),(function(e){return console.error(e)}));var e},children:"Change Selected Time"}),Object(x.jsx)(l.a,{variant:"contained",color:"default",disabled:a<0||p(),onClick:function(){return function(e,t){var n=Object.assign({},t);n.meetingTimes.push(e),g(n)}(h,n.find((function(e){return e.id===a})))},children:"Add to Selected Section"})]}),Object(x.jsx)(S.a,{item:!0,children:Object(x.jsx)(l.a,{variant:"contained",color:"primary",disabled:p(),onClick:function(){return e=h,void Q.post(W,{course:t.id,meetingTimes:[e]}).then((function(e){i((function(t){return t.concat([e])}))}),(function(e){return console.error(e)}));var e},children:"Add to New Section"})}),Object(x.jsx)(S.a,{item:!0,xs:12,children:function(){var e=[];return n&&(e=n.filter((function(e){return e.course.id===t.id})).map((function(e){return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)(ce.a,{button:!0,onClick:function(){return t=e.id,o(t);var t},children:[(t=e.id,a===t?Object(x.jsx)(je.a,{children:Object(x.jsx)(Pe.a,{})}):Object(x.jsx)(je.a,{children:Object(x.jsx)(Te.a,{})})),Object(x.jsx)(ie.a,{primary:"Section ".concat(e.id),secondary:"".concat(e.meetingTimes.length," time slot(s)")}),Object(x.jsxs)(re.a,{children:[Object(x.jsx)(k.a,{onClick:function(){return function(e,t){var n=Object.assign({},t);n.meetingTimes=n.meetingTimes.filter((function(t){return t.id!==e})),g(n)}(d,e)},disabled:d<0,children:Object(x.jsx)(qe.a,{})}),Object(x.jsx)(k.a,{onClick:function(){return t=e.id,void Q.delete(W,t).then((function(e){t===a&&o(-1),i(n.filter((function(e){return e.id!==t})))}),(function(e){return console.error(e)}));var t},children:Object(x.jsx)(ue.a,{})})]})]}),Object(x.jsx)(Ee.a,{children:Object(x.jsx)(Le.a,{value:d,onChange:function(e){return b(parseInt(e.target.value))},children:C(e)})})]});var t}))),e}()})]})},Me=function(e){var t=e.row,n=e.setRow,i=e.classes,r=e.setClasses,s=e.disciplines,a=e.create,o=Object(c.useState)(""),u=Object(v.a)(o,2),d=u[0],b=u[1];return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(j.a,{variant:"h6",style:{textAlign:"center"},children:"Course"}),Object(x.jsxs)(S.a,{container:!0,alignItems:"center",justifyContent:"center",spacing:2,children:[Object(x.jsx)(S.a,{item:!0,children:Object(x.jsx)(xe.a,{label:"Course Title",required:!0,value:t.course_title||"",inputProps:{maxLength:55},type:"text",onChange:function(e){return n(Object(de.a)(Object(de.a)({},t),{},{course_title:e.target.value}))}})}),Object(x.jsx)(S.a,{item:!0,children:Object(x.jsx)(xe.a,{label:"Course Number",required:!0,value:t.course_number||"",inputProps:{inputMode:"numeric",pattern:"[0-9]*",maxLength:6},type:"text",onChange:function(e){return n(Object(de.a)(Object(de.a)({},t),{},{course_number:e.target.value}))}})}),Object(x.jsx)(S.a,{item:!0,children:Object(x.jsx)(xe.a,{select:!0,label:"Subject Disciplines",style:{minWidth:160},value:d,onChange:function(e){return b(e.target.value)},children:s.filter((function(e){return t.subject_disciplines.findIndex((function(t){return t.id===e.id}))<0})).map((function(e){return Object(x.jsx)(me.a,{value:e,children:e.name},e.name)}))})}),Object(x.jsx)(S.a,{item:!0,children:Object(x.jsx)(l.a,{variant:"contained",color:"default",onClick:function(){return n(Object(de.a)(Object(de.a)({},t),{},{subject_disciplines:t.subject_disciplines.concat([d])}))},children:"Add"})}),Object(x.jsx)(S.a,{item:!0,xs:12,children:t.subject_disciplines.map((function(e){return Object(x.jsx)(pe.a,{label:e.name,onDelete:function(){return n(Object(de.a)(Object(de.a)({},t),{},{subject_disciplines:t.subject_disciplines.filter((function(t){return t.id!==e.id}))}))}})}))})]}),!a&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(j.a,{variant:"h6",style:{textAlign:"center",marginTop:"1rem"},children:"Sections"}),Object(x.jsx)(We,{row:t,classes:i,setClasses:r})]})]})},Fe=function(e){var t=e.create,n=e.open,i=e.setOpen,r=e.row,s=e.setCourses,a=e.classes,o=e.setClasses,u=e.disciplines,j=e.setSelected,d=e.setEditOpen,b=Object(c.useState)({course_title:"",course_number:null,subject_disciplines:[]}),O=Object(v.a)(b,2),f=O[0],h=O[1],m=t?"Create Class":"Edit Class",p=function(){return i(!1)};return Object(c.useEffect)((function(){n&&!t?h(r):n&&t&&h({course_title:"",course_number:null,subject_disciplines:[]})}),[n]),Object(x.jsx)("div",{"data-testid":"ClassDialog",children:Object(x.jsxs)(be.a,{open:n,onClose:p,"aria-labelledby":"instructor-dialog",fullWidth:!0,maxWidth:"sm",children:[Object(x.jsx)(Oe.a,{id:"instructor-dialog",children:m}),Object(x.jsx)(fe.a,{children:Object(x.jsx)(Me,{row:f,setRow:h,classes:a,setClasses:o,disciplines:u,create:t})}),Object(x.jsxs)(he.a,{children:[Object(x.jsx)(l.a,{variant:"contained",onClick:p,color:"default",children:"Cancel"}),Object(x.jsx)(l.a,{variant:"contained",onClick:function(){var e=Object(de.a)(Object(de.a)({},f),{},{subject_disciplines:f.subject_disciplines.map((function(e){return e.id}))});t?Q.post(M,e).then((function(e){var t=Object(de.a)(Object(de.a)({},e),{},{subject_disciplines:f.subject_disciplines});s((function(e){return e.concat([t])})),j(t),i(!1),d(!0)}),(function(e){return console.error(e)})):Q.put(M,e).then((function(e){s((function(e){var t=e.findIndex((function(e){return e.id===f.id})),n=e.slice(0);return n[t]=f,n})),i(!1)}),(function(e){return console.error(e)}))},color:"primary",disabled:!f.course_title||!f.course_number,children:"Submit"})]})]})})};Fe.defaultProps={};var Re=Fe,ze=function(e,t,n,c){var i,r=[],s=Object(y.a)(t);try{var a=function(){var s=i.value,a=e.filter((function(e){return e.course===s.id})),o=a.map((function(e){return e.meetingTimeString}));r.push(Object(x.jsxs)(ce.a,{children:[Object(x.jsx)(ie.a,{primary:"CPSC "+s.course_number+" - "+s.course_title,secondary:a.length.toString()+" Section(s) - "+o.join("; ")}),Object(x.jsxs)(re.a,{children:[Object(x.jsx)(k.a,{edge:"end",onClick:function(){return c(s)},children:Object(x.jsx)(I.a,{})}),Object(x.jsx)(k.a,{edge:"end",onClick:function(){Q.delete(M,s.id).then((function(e){n(t.filter((function(e){return e.id!==s.id})))}),(function(e){return console.error(e)}))},children:Object(x.jsx)(ue.a,{})})]})]})),r.push(Object(x.jsx)(ne.a,{}))};for(s.s();!(i=s.n()).done;)a()}catch(o){s.e(o)}finally{s.f()}return r},Be=function(e){var t=Object(c.useState)({}),n=Object(v.a)(t,2),i=n[0],r=n[1],s=Object(c.useState)(!1),a=Object(v.a)(s,2),o=a[0],u=a[1],l=Object(c.useState)(!1),j=Object(v.a)(l,2),d=j[0],b=j[1];return Object(x.jsxs)("div",{"data-testid":"ClassList",children:[Object(x.jsxs)(le.a,{style:{border:"1px #0000001f solid"},children:[ze(e.classes,e.courses,e.setCourses,(function(e){r(e),b(!0)})),Object(x.jsxs)(ce.a,{button:!0,onClick:function(){return u(!0)},children:[Object(x.jsx)(je.a,{children:Object(x.jsx)(ae.a,{})}),Object(x.jsx)(ie.a,{primary:"Add New"})]})]}),Object(x.jsx)(Re,{create:!0,open:o,setOpen:u,setCourses:e.setCourses,disciplines:e.disciplines,setClasses:e.setClasses,setSelected:r,setEditOpen:b}),Object(x.jsx)(Re,{open:d,setOpen:b,row:i,setCourses:e.setCourses,disciplines:e.disciplines,classes:e.classes,setClasses:e.setClasses})]})};Be.defaultProps={};var Je=Be,Ge=function(){var e=Object(c.useState)(!1),t=Object(v.a)(e,2),n=t[0],i=t[1],r=Object(c.useState)(!1),s=Object(v.a)(r,2),a=s[0],o=s[1],u=Object(c.useState)([]),l=Object(v.a)(u,2),j=l[0],d=l[1],b=Object(c.useState)([]),O=Object(v.a)(b,2),f=O[0],h=O[1],m=Object(c.useState)([]),p=Object(v.a)(m,2),g=p[0],y=p[1],C=Object(c.useState)([]),w=Object(v.a)(C,2),_=w[0],k=w[1],T=function(e){"403"===e.message?i(!0):console.error(e)};return Object(c.useEffect)((function(){Promise.all([Q.get(E),Q.get(L),Q.get(W),Q.get(M)]).then((function(e){d(e[0]),h(e[1]),y(e[2]),k(e[3]),o(!0)}),T)}),[]),n?Object(x.jsxs)("div",{children:[K("Setup Page"),V("setup")]}):Object(x.jsx)("div",{"data-testid":"SetupPage",children:Object(x.jsxs)(S.a,{container:!0,spacing:2,justifyContent:"center",children:[Object(x.jsxs)(S.a,{container:!0,item:!0,xs:5,direction:"column",children:[K("Teaching Staff","h4"),Object(x.jsx)("div",{style:{padding:"1rem 5rem"},children:a?Object(x.jsx)(we,{instructors:f,setInstructors:h,disciplines:j}):Object(x.jsx)(X.a,{})})]}),Object(x.jsx)(ne.a,{orientation:"vertical",flexItem:!0}),Object(x.jsxs)(S.a,{container:!0,item:!0,xs:5,direction:"column",children:[K("Class Roster","h4"),Object(x.jsx)("div",{style:{padding:"1rem 5rem"},children:a?Object(x.jsx)(Je,{classes:g,setClasses:y,courses:_,setCourses:k,disciplines:j}):Object(x.jsx)(X.a,{})})]})]})})};Ge.defaultProps={};var Ue=Ge,Qe=function(e,t){return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)(S.a,{container:!0,alignItems:"center",justifyContent:"center",spacing:2,children:[Object(x.jsx)(S.a,{item:!0,xs:12,children:Object(x.jsx)(xe.a,{required:!0,label:"Email",type:"text",onChange:function(t){return e(t.target.value)}})}),Object(x.jsx)(S.a,{item:!0,xs:12,children:Object(x.jsx)(xe.a,{required:!0,label:"Password",type:"password",onChange:function(e){return t(e.target.value)}})})]})})},Ye=function(e,t,n,c){return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)(S.a,{container:!0,alignItems:"center",justifyContent:"center",spacing:2,children:[Object(x.jsx)(S.a,{item:!0,xs:12,children:Object(x.jsx)(xe.a,{required:!0,label:"Email",type:"text",onChange:function(e){return t(e.target.value)}})}),Object(x.jsx)(S.a,{item:!0,xs:12,children:Object(x.jsx)(xe.a,{select:!0,label:"Requested Access Level",style:{minWidth:200},onChange:function(e){return c(e.target.value)},children:e.map((function(e){return Object(x.jsx)(me.a,{value:e,children:e},e)}))})}),Object(x.jsx)(S.a,{item:!0,xs:12,children:Object(x.jsx)(xe.a,{required:!0,label:"Requested Password",type:"password",onChange:function(e){return n(e.target.value)}})})]})})},He=function(e){H()();var t=Object(c.useState)(!0),n=Object(v.a)(t,2),i=n[0],r=n[1],s=Object(c.useState)(),a=Object(v.a)(s,2),o=a[0],u=a[1],j=Object(c.useState)(),d=Object(v.a)(j,2),b=d[0],f=d[1],h=Object(c.useState)(),m=Object(v.a)(h,2),p=m[0],g=m[1];return Object(x.jsxs)("div",{"data-testid":"LoginPage",children:[K(i?"Login":"Submit Registration Request"),i?Qe(u,f):Ye(["root","admin","assistant"],u,f,g),Object(x.jsx)(l.a,{color:"primary",variant:"contained",style:{marginTop:"2em",marginRight:"1em"},onClick:function(){i?Q.authenticate(o,b).then((function(e){var t;t=e,O.a.set("token",t.token),window.location.reload(!1)}),(function(e){return console.error(e)})):Q.post(B,{contact_email:o,requested_password:b,access_level:p}).then((function(e){console.log(e)}),(function(e){return console.error(e)}))},children:"Submit"}),Object(x.jsx)(l.a,{color:"default",variant:"contained",style:{marginTop:"2em"},onClick:function(){return r(!i)},children:i?"Register":"Return to Login"})]})};He.defaultProps={};var Ke=He,Ve=n(150),Xe=n(56),Ze=n(261),$e=n(275),et=Object(Ve.a)(Object(Xe.b)({palette:{primary:{main:"#800000"}}})),tt=(n(213),n(157)),nt=function(e){var t=e.open,n=e.setOpen,i=e.row,r=e.schedule,s=e.setSchedule,a=e.instructors,o=(e.sectionOverlapMap,e.disciplineMap,Object(c.useState)()),u=Object(v.a)(o,2),d=u[0],b=u[1],O=function(){return n(!1)};return Object(c.useEffect)((function(){null!=i&&b(i.instructor)}),[i]),Object(x.jsx)("div",{"data-testid":"EditAssignmentDialog",children:Object(x.jsxs)(be.a,{open:t,onClose:O,fullWidth:!0,maxWidth:"sm",children:[Object(x.jsx)(Oe.a,{children:"Edit Assignment"}),Object(x.jsxs)(fe.a,{children:[null!=i&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)(j.a,{style:{textAlign:"center",fontWeight:"bold"},children:[i.course_number," ",i.course_title]}),Object(x.jsx)(j.a,{style:{textAlign:"center"},children:i.meetingTimeString})]}),null!=a.size&&Object(x.jsx)(xe.a,{select:!0,label:"Instructor",style:{minWidth:160},value:d,onChange:function(e){b(e.target.value)},children:Array.from(a.values()).map((function(e){return Object(x.jsx)(me.a,{value:e.id,children:e.lastName},e.id)}))})]}),Object(x.jsxs)(he.a,{children:[Object(x.jsx)(l.a,{variant:"contained",onClick:O,children:"Cancel"}),Object(x.jsx)(l.a,{variant:"contained",color:"primary",onClick:function(){var e=r.assignments,t=e.findIndex((function(e){return e.id===i.id}));e[t].instructor=d;var n=r;r.assignments=e,s(n),O()},disabled:!d,children:"Submit"})]})]})})};nt.defaultProps={};var ct=nt,it=function(){var e=Object(c.useState)(),t=Object(v.a)(e,2),n=t[0],i=t[1],r=Object(c.useState)(),s=Object(v.a)(r,2),o=s[0],u=s[1],j=Object(c.useState)({}),b=Object(v.a)(j,2),O=b[0],f=b[1],h=Object(c.useState)({}),m=Object(v.a)(h,2),p=m[0],g=m[1],S=Object(c.useState)({}),C=Object(v.a)(S,2),w=C[0],_=C[1],T=Object(c.useState)({}),P=Object(v.a)(T,2),N=P[0],q=P[1],A=Object(c.useState)(!1),E=Object(v.a)(A,2),D=E[0],M=E[1],z=Object(c.useState)(),B=Object(v.a)(z,2),J=B[0],G=B[1],U=Object(a.h)().solution_id,Y=[{field:"id",headerName:"ID",hide:!0},{field:"course_title",headerName:"Course",flex:1},{field:"course_number",hide:!0},{field:"meetingTimeString",headerName:"Meeting Times",flex:3},{field:"subject_disciplines",headerName:"Subject Disciplines",hide:!0},{field:"instructor_lastName",headerName:"Assigned Instructor",flex:1},{field:"Edit",renderCell:function(e){return Object(x.jsx)(k.a,{onClick:function(){G(e.row),M(!0)},children:Object(x.jsx)(I.a,{})})},flex:.5}],H=function(){return null!=n&&null!=O.size&&null!=p.size&&0!==Object.keys(w).length&&0!==Object.keys(N).length};return Object(c.useEffect)((function(){Q.get(F+U.toString()).then((function(e){i(e),u(e)}),(function(e){console.error(e)})),Q.get(L).then((function(e){f(new Map(e.map((function(e){return[e.id,e]}))))}),(function(e){console.error(e)})),Q.get(W).then((function(e){g(new Map(e.map((function(e){return[e.id,e]}))))}),(function(e){console.error(e)})),Q.get(R).then((function(e){_(e.section_overlap_map),q(e.discipline_overlap_map)}),(function(e){return console.error(e)}))}),[U]),Object(x.jsxs)("div",{"data-testid":"EditSolution",children:[Object(x.jsxs)("div",{style:{marginBottom:"0.5rem",display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"flex-end",width:"80vw",marginLeft:"auto",marginRight:"auto"},children:[Object(x.jsx)(l.a,{variant:"contained",style:{height:"36px"},component:d.b,to:"/",children:"Cancel"}),K("Edit Solution"),Object(x.jsx)(l.a,{variant:"contained",style:{height:"36px"},color:"primary",children:"Submit"})]}),Object(x.jsx)("div",{style:{height:"80vh",width:"80vw",margin:"auto"},children:H()?Object(x.jsx)(tt.a,{rows:function(e){var t=[];if(0!==p.size&&null!=p.size){var n,c=Object(y.a)(e);try{for(c.s();!(n=c.n()).done;){var i=n.value,r=p.get(i.section),s="Unassigned";null!=i.instructor&&(s=O.get(i.instructor).lastName),r&&t.push({id:i.id,course_title:r.course.course_title,course_number:r.course.course_number,meetingTimeString:r.meetingTimeString,instructor:i.instructor,instructor_lastName:s,subject_disciplines:r.course.subject_disciplines})}}catch(a){c.e(a)}finally{c.f()}}return t}(o.assignments),columns:Y,autoPageSize:!0}):Object(x.jsx)("p",{children:"Loading"})}),H()&&Object(x.jsx)(ct,{open:D,setOpen:M,row:J,schedule:o,setSchedule:u,instructors:O,sectionOverlapMap:w,disciplineMap:N})]})};it.defaultProps={};var rt=it;var st,at=(st=function(){return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(g,{}),Object(x.jsx)("div",{className:"content",children:Object(x.jsxs)(a.d,{children:[Object(x.jsx)(a.b,{path:"/",element:f()?Object(x.jsx)(te,{}):Object(x.jsx)(a.a,{to:"/login"})}),Object(x.jsx)(a.b,{path:"/edit/:solution_id",element:f()?Object(x.jsx)(rt,{}):Object(x.jsx)(a.a,{to:"/login"})}),Object(x.jsx)(a.b,{path:"/setup",element:f()?Object(x.jsx)(Ue,{}):Object(x.jsx)(a.a,{to:"/login"})}),Object(x.jsx)(a.b,{path:"/login",element:f()?Object(x.jsx)(a.a,{to:"/"}):Object(x.jsx)(Ke,{})})]})})]})},function(e){return Object(x.jsxs)(Ze.a,{theme:et,children:[Object(x.jsx)($e.a,{}),Object(x.jsx)(st,Object(de.a)({},e))]})}),ot=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,281)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),i(e),r(e),s(e)}))};s.a.render(Object(x.jsx)(i.a.StrictMode,{children:Object(x.jsx)(d.a,{children:Object(x.jsx)(at,{})})}),document.getElementById("root")),ot()}},[[216,1,2]]]);
//# sourceMappingURL=main.04e2d963.chunk.js.map